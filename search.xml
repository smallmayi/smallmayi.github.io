<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8/"/>
      <url>/2025/07/30/linux/%E6%9F%A5%E7%9C%8B%E5%86%85%E6%A0%B8/</url>
      
        <content type="html"><![CDATA[<p>title: linux 查看内核版本<br>date: 2025-06-17<br>tags: [linux]</p><h2 id="linux-查看内核版本"><a href="#linux-查看内核版本" class="headerlink" title="linux 查看内核版本"></a>linux 查看内核版本</h2><h3 id="1-uname命令"><a href="#1-uname命令" class="headerlink" title="1.uname命令"></a>1.<code>uname</code>命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">uname -a</span><br><span class="line">uname -r</span><br><span class="line">uname -srm</span><br></pre></td></tr></table></figure><p><img src="/image-20220928095030212.png" alt="image-20220928095030212"></p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Linux 3.10.0-1160.el7.x86_64 x86_64</span><br><span class="line">3 - 内核版本</span><br><span class="line">10 - 主修订版本</span><br><span class="line">0-1160 - 次修订版本</span><br></pre></td></tr></table></figure><h3 id="2-hostnamectl命令"><a href="#2-hostnamectl命令" class="headerlink" title="2.hostnamectl命令"></a>2.<code>hostnamectl</code>命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl</span><br><span class="line">hostnamectl | grep -i kernel</span><br></pre></td></tr></table></figure><p><img src="/image-20220928095947443.png" alt="image-20220928095947443"></p><h3 id="3-查看-proc-verison"><a href="#3-查看-proc-verison" class="headerlink" title="3.查看/proc/verison"></a>3.查看<code>/proc/verison</code></h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/version</span><br></pre></td></tr></table></figure><p><img src="/image-20220928100339724.png" alt="image-20220928100339724"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/%E7%AB%AF%E5%8F%A3/"/>
      <url>/2025/07/30/linux/%E7%AB%AF%E5%8F%A3/</url>
      
        <content type="html"><![CDATA[<p>title: Linux查看端口占用<br>date: 2025-06-17<br>tags: [linux]</p><h2 id="Linux查看端口占用"><a href="#Linux查看端口占用" class="headerlink" title="Linux查看端口占用"></a>Linux查看端口占用</h2><h3 id="方法一：lsof-命令"><a href="#方法一：lsof-命令" class="headerlink" title="方法一：lsof 命令"></a>方法一：lsof 命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">lsof: 未找到命令,就用下面命令安装</span></span><br><span class="line">yum install lsof</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo lsof -i -P -n | grep LISTEN</span><br></pre></td></tr></table></figure><blockquote><p>lsof 命令用于查找用户使用的文件和进程。</p><p>-i：如果没有指定IP地址，这个选项选择列出所有网络文件</p><p>-P：禁止将端口号转换为端口名称, 如 3306 转为 MySQL-</p><p>n：禁止IP转换为hostname，缺省是不加上-n参数</p><p>LISTEN: 查看监听的端口，排除非监听的端口</p></blockquote><p>快速使用，查看指定端口</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lsof -i:8080</span><br></pre></td></tr></table></figure><h3 id="方法二：netstat命令"><a href="#方法二：netstat命令" class="headerlink" title="方法二：netstat命令"></a>方法二：netstat命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">未找到命令,就用下面命令安装</span></span><br><span class="line">yum install net-tools -y</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -nltp | grep 端口号</span><br></pre></td></tr></table></figure><blockquote><p>-a：显示本机所有连接和监听地端口</p><p>-n：网络IP地址的形式，显示当前建立的有效连接和端口</p><p>-r：显示路由表信息·</p><p>-s：显示按协议的统计信息</p><p>-v：显示当前有效的连接</p><p>-t：显示所有TCP协议连接情况</p><p>-u：显示所有UDP协议连接情况</p><p>-i：显示自动配置端口的状态</p><p>-l：仅仅显示连接状态为listening的服务网络状态</p><p>-p：显示pid&#x2F;program name</p></blockquote><h3 id="kill进程结束端口占用"><a href="#kill进程结束端口占用" class="headerlink" title="kill进程结束端口占用"></a>kill进程结束端口占用</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">-9 强制结束</span></span><br><span class="line">kill -9 pid</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/miui/%E8%A7%A3%E9%94%81BL/"/>
      <url>/2025/07/30/miui/%E8%A7%A3%E9%94%81BL/</url>
      
        <content type="html"><![CDATA[<p>title: miui解锁<br>date: 2024-07-12 10:00:00<br>tags: [miui]<br>categories: 软件工具</p><h2 id="miui-解BL锁开启root权限"><a href="#miui-解BL锁开启root权限" class="headerlink" title="miui - 解BL锁开启root权限"></a>miui - 解BL锁开启root权限</h2><h3 id="解BL锁"><a href="#解BL锁" class="headerlink" title="解BL锁"></a>解BL锁</h3><ol><li><strong>设置 – 我的设备 – 全部参数 – MIUI 版本</strong>，连续点五次以上，就可以开启开发者模式。</li><li><strong>设置 – 更多设置 – 开发者模式 – 设备解锁状态</strong>中，绑定账号和设备</li></ol><p><img src="https://s2.loli.net/2022/07/06/HQqCArembk5lw3Y.png" alt="image-20220706143028355"></p><p>音量下+电源键长按，手机进入fastboot模式，连接数据线无法识别，驱动问题</p><p>下载</p><p>右键更新驱动</p><p><img src="https://s2.loli.net/2022/07/07/DKBlwS1iMsYh3mb.png" alt="image-20220706150949199"></p><p>重新连接</p><p><img src="https://s2.loli.net/2022/07/07/JGF7K35OVfSo9tw.png" alt="image-20220706151039760"></p><p><img src="https://s2.loli.net/2022/07/06/cNSD5WvyhXQ9jMC.png" alt="image-20220706151552354"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/windows/windows%20%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/"/>
      <url>/2025/07/30/windows/windows%20%E6%9F%A5%E7%9C%8B%E7%AB%AF%E5%8F%A3%E5%8D%A0%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>title: windows 查看端口占用<br>date: 2025-06-18<br>tags: [windows]</p><h2 id="windows-查看端口占用"><a href="#windows-查看端口占用" class="headerlink" title="windows 查看端口占用"></a>windows 查看端口占用</h2><h3 id="１．所有端口的占用情况"><a href="#１．所有端口的占用情况" class="headerlink" title="１．所有端口的占用情况"></a>１．所有端口的占用情况</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -ano</span><br></pre></td></tr></table></figure><h3 id="2-指定端口占用情况"><a href="#2-指定端口占用情况" class="headerlink" title="2.指定端口占用情况"></a>2.指定端口占用情况</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat -aon|findstr &quot;端口号&quot;</span><br></pre></td></tr></table></figure><h3 id="3-查看占用端口的进程"><a href="#3-查看占用端口的进程" class="headerlink" title="3.查看占用端口的进程"></a>3.查看占用端口的进程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tasklist|findstr &quot;被占用端口对应的 PID&quot;</span><br></pre></td></tr></table></figure><h3 id="4-结束端口占用的进程"><a href="#4-结束端口占用的进程" class="headerlink" title="4.结束端口占用的进程"></a>4.结束端口占用的进程</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">/t 包含子进程，/f 强制终止, /pid 进程<span class="built_in">id</span></span></span><br><span class="line">taskkill /f /t /pid pid号</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">/im 指定的进程名称，例如“explor.exe<span class="string">&quot;</span></span></span><br><span class="line">taskkill /f /im java.exe</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E9%9D%92%E9%BE%99bili/"/>
      <url>/2025/07/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E9%9D%92%E9%BE%99bili/</url>
      
        <content type="html"><![CDATA[<p>title: 青龙面板 哔哩哔哩<br>date: 2025-06-17<br>tags: [青龙]</p><h2 id="青龙面板-bilibili"><a href="#青龙面板-bilibili" class="headerlink" title="青龙面板 bilibili"></a>青龙面板 bilibili</h2><h4 id="1-安装-dotnet-环境"><a href="#1-安装-dotnet-环境" class="headerlink" title="1. 安装 dotnet 环境"></a>1. 安装 <code>dotnet</code> 环境</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在配置文件中找到 extra.sh 文件，将以下内容复制到 extra.sh 中：</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 安装 dotnet 环境</span></span><br><span class="line"><span class="string">echo</span> <span class="string">-e</span> <span class="string">&quot;\n-------set up dot net env-------&quot;</span></span><br><span class="line"><span class="string">apk</span> <span class="string">add</span> <span class="string">bash</span> <span class="string">icu-libs</span> <span class="string">krb5-libs</span> <span class="string">libgcc</span> <span class="string">libintl</span> <span class="string">libssl1.1</span> <span class="string">libstdc++</span> <span class="string">zlib</span></span><br><span class="line"><span class="string">wget</span> <span class="string">https://download.visualstudio.microsoft.com/download/pr/bd94779d-c7c4-47fd-b80a-0088caa0afc6/40f115bbf4c068359e7a066fe0b03dbc/dotnet-sdk-6.0.101-linux-musl-x64.tar.gz</span></span><br><span class="line"><span class="string">DOTNET_FILE=dotnet-sdk-6.0.101-linux-musl-x64.tar.gz</span></span><br><span class="line"><span class="string">export</span> <span class="string">DOTNET_ROOT=/home/dotnet</span></span><br><span class="line"><span class="string">mkdir</span> <span class="string">-p</span> <span class="string">&quot;$DOTNET_ROOT&quot;</span> <span class="string">&amp;&amp;</span> <span class="string">tar</span> <span class="string">zxf</span> <span class="string">&quot;$DOTNET_FILE&quot;</span> <span class="string">-C</span> <span class="string">&quot;$DOTNET_ROOT&quot;</span></span><br><span class="line"><span class="string">export</span> <span class="string">PATH=$PATH:$DOTNET_ROOT</span></span><br><span class="line"><span class="string">ln</span> <span class="string">-s</span> <span class="string">/home/dotnet/dotnet</span> <span class="string">/usr/local/bin</span></span><br><span class="line"><span class="string">dotnet</span> <span class="string">--version</span></span><br><span class="line"><span class="string">echo</span> <span class="string">-e</span> <span class="string">&quot;\n-------set up dot net env finish-------&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/05/13/nl8pyBPGUMOHeu2.png" alt="image-20220513114534436"></p><h4 id="2-添加任务"><a href="#2-添加任务" class="headerlink" title="2.添加任务"></a>2.添加任务</h4><p>运行一次</p><p><img src="https://s2.loli.net/2022/05/13/cBDbQE2GMhFNeZp.png" alt="image-20220513114905210"></p><h4 id="2-重启青龙容器"><a href="#2-重启青龙容器" class="headerlink" title="2.重启青龙容器"></a>2.重启青龙容器</h4><p>重启青龙容器，或在宿主机中执行 <code>docker exec -it qinglong bash /ql/data/config/extra.sh</code>，其中 <code>qinglong</code> 是你的容器名。</p><h4 id="3-登录青龙面板并修改配置"><a href="#3-登录青龙面板并修改配置" class="headerlink" title="3.登录青龙面板并修改配置"></a>3.登录青龙面板并修改配置</h4><p>修改保存 <code>RepoFileExtensions=&quot;js py&quot;</code> 为 <code>RepoFileExtensions=&quot;js py sh&quot;</code></p><p><img src="https://s2.loli.net/2022/05/13/E3sjSCFig2Yy8ft.png" alt="image-20220513105130027"></p><h4 id="4-添加bilibili-Cookie"><a href="#4-添加bilibili-Cookie" class="headerlink" title="4.添加bilibili  Cookie"></a>4.添加bilibili  Cookie</h4><p>抓取cookie</p><p><img src="https://s2.loli.net/2022/05/13/xgQy1UoeXNzWKbs.png" alt="image-20220513110221146"></p><p>添加环境变量<code>Ray_BiliBiliCookies__0</code></p><p><img src="https://s2.loli.net/2022/05/13/nOu2iLjfSC6Kloc.png" alt="image-20220513105939740"></p><h4 id="5-拉库"><a href="#5-拉库" class="headerlink" title="5.拉库"></a>5.拉库</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">ql</span> <span class="string">repo</span> <span class="string">https://ghproxy.com/https://github.com/raywangqvq/bilibilitoolpro.git</span> <span class="string">&quot;bili_task_&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/05/13/PlxNCOzMnyiVDZ2.png" alt="image-20220513110901500"></p><p>拉取成功</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E9%9D%92%E9%BE%99%E4%BA%AC%E4%B8%9C/"/>
      <url>/2025/07/30/%E6%9C%8D%E5%8A%A1%E5%99%A8/%E9%9D%92%E9%BE%99%E4%BA%AC%E4%B8%9C/</url>
      
        <content type="html"><![CDATA[<p>title: 青龙面板 京东签到<br>date: 2025-06-17<br>tags: [青龙]</p><h2 id="青龙面板-京东签到"><a href="#青龙面板-京东签到" class="headerlink" title="青龙面板 京东签到"></a>青龙面板 京东签到</h2><h4 id="1-拉取镜像-部署"><a href="#1-拉取镜像-部署" class="headerlink" title="1.拉取镜像,部署"></a>1.拉取镜像,部署</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker</span> <span class="string">pull</span> <span class="string">whyour/qinglong:latest</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker</span> <span class="string">run</span> <span class="string">-dit</span> <span class="string">\</span></span><br><span class="line">   <span class="string">-v</span> <span class="string">$PWD/ql/config:/ql/config</span> <span class="string">\</span></span><br><span class="line">   <span class="string">-v</span> <span class="string">$PWD/ql/log:/ql/log</span> <span class="string">\</span></span><br><span class="line">   <span class="string">-v</span> <span class="string">$PWD/ql/db:/ql/db</span> <span class="string">\</span></span><br><span class="line">   <span class="string">-p</span> <span class="number">5700</span><span class="string">:5700</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--name</span> <span class="string">qinglong</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--hostname</span> <span class="string">qinglong</span> <span class="string">\</span></span><br><span class="line">   <span class="string">--restart</span> <span class="string">always</span> <span class="string">\</span></span><br><span class="line">   <span class="string">whyour/qinglong:latest</span></span><br></pre></td></tr></table></figure><h4 id="2-打开防火墙"><a href="#2-打开防火墙" class="headerlink" title="2.打开防火墙"></a>2.打开防火墙</h4><p><img src="https://s2.loli.net/2022/05/11/H1M9b5USGecuVvt.png" alt="image-20220511152004336"></p><h4 id="3-配置青龙面板"><a href="#3-配置青龙面板" class="headerlink" title="3.配置青龙面板"></a>3.配置青龙面板</h4><h5 id="登录面板并安装"><a href="#登录面板并安装" class="headerlink" title="登录面板并安装"></a>登录面板并安装</h5><p>面板地址：<code>http://服务器IP:5700</code></p><p><img src="https://s2.loli.net/2022/05/11/rOxz7G9AEKuqiFC.png" alt="image-20220511152259199"></p><h4 id="4-拉取脚本库"><a href="#4-拉取脚本库" class="headerlink" title="4.拉取脚本库"></a>4.拉取脚本库</h4><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">ql</span> <span class="string">repo</span> <span class="string">https://github.com/inoyna12/JDsc.git</span> <span class="string">&quot;jd_|jx_|kk_&quot;</span> <span class="string">&quot;activity|backUp&quot;</span> <span class="string">&quot;^jd[^_]|USER|sendNotify|JD_DailyBonus|utils|function|ql&quot;</span></span><br></pre></td></tr></table></figure><p><img src="https://s2.loli.net/2022/05/13/bTcqOtZ9i8ha6wn.png" alt="image-20220513091550799"></p><p>拉取失败就添加前缀<code>https://ghproxy.com/</code>，拉取成功</p><p><img src="https://s2.loli.net/2022/05/12/naBXHgLYO5xQ9cE.png" alt="image-20220512100018619"></p><h4 id="5-抓取JD-COOKIE"><a href="#5-抓取JD-COOKIE" class="headerlink" title="5.抓取JD_COOKIE"></a>5.抓取JD_COOKIE</h4><p>地址栏输入 <a href="url=https://wqs.jd.com/">https://wqs.jd.com/</a></p><p><img src="https://s2.loli.net/2022/05/11/rxjTdEBDFzlbhtU.png" alt="image-20220511171419169"></p><p>添加环境变量<code>JD_COOKIE</code></p><p><img src="https://s2.loli.net/2022/05/12/UYk3pTQ8sloz9Ac.png" alt="image-20220512100238231"></p><p><code>**cookie不要泄露！**</code>,<code>**银行卡解绑！**</code>保证安全</p><h4 id="6-脚本日志"><a href="#6-脚本日志" class="headerlink" title="6.脚本日志"></a>6.脚本日志</h4><p><img src="https://s2.loli.net/2022/05/12/WZvTmtS91lHA84f.png" alt="image-20220512101119545"></p><p>青龙面板的JD签到就完成了。</p><h4 id="7-其他依赖"><a href="#7-其他依赖" class="headerlink" title="7.其他依赖"></a>7.其他依赖</h4><p><code>github</code>上查看其他依赖添加</p><p><img src="https://s2.loli.net/2022/05/13/Qgz12vruwYG3Uhn.png" alt="image-20220513100635244"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4/"/>
      <url>/2025/07/30/linux/%E4%BF%AE%E6%94%B9%E6%97%B6%E9%97%B4/</url>
      
        <content type="html"><![CDATA[<p>title: linux修改系统时间<br>date: 2025-06-17<br>tags: [linux]</p><p>linux修改系统时间</p><p>1.查看当前时间</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date</span><br></pre></td></tr></table></figure><p>2.查看时区</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">data -R</span><br></pre></td></tr></table></figure><p><img src="/....%5Cimages%5ClinuxDate.png" alt="image-20230724152602520"></p><p>3.修改时间和日期</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">date -s 11/03/2020</span><br><span class="line">date -s 17:55:55</span><br></pre></td></tr></table></figure><p>4.修改时区</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tzselect</span><br></pre></td></tr></table></figure><p>5.查看月历</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cal</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/%E5%AE%89%E8%A3%85python%E7%8E%AF%E5%A2%83/"/>
      <url>/2025/07/30/linux/%E5%AE%89%E8%A3%85python%E7%8E%AF%E5%A2%83/</url>
      
        <content type="html"><![CDATA[<p>title: linux 安装python<br>date: 2025-06-17<br>tags: [linux]</p><h2 id="linux-安装python"><a href="#linux-安装python" class="headerlink" title="linux 安装python"></a>linux 安装python</h2><p>查看linux版本</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat  /etc/redhat-release</span><br></pre></td></tr></table></figure><p><img src="/....%5Cimages%5Ccentos%E7%89%88%E6%9C%AC.png" alt="image-20230316163225923"></p><p>查看默认python版本</p><p>python -V</p><p><img src="/....%5Cimages%5Cpython%E7%89%88%E6%9C%AC.png" alt="image-20230316163347034"></p><p>可以通过<code>yum install python3 -y</code> 安装python3,但是默认repo里最高版本是3.6.8,我们想安装更高版本的。</p><h3 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h3><p>官方下载地址：<a href="https://www.python.org/downloads/source/">https://www.python.org/downloads/source/</a></p><p>上传到服务器</p><p><em>&lt;注意：python3.7后使用ssl需要高版本的openssl支持，centos7.9默认1.0.2k-fips版本已经不支持，所以需要ssl的话，需要提前额外编译安装高版本openssl&gt;</em></p><h4 id="1-安装必要依赖"><a href="#1-安装必要依赖" class="headerlink" title="1.安装必要依赖"></a>1.安装必要依赖</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum groupinstall &quot;Development Tools&quot;</span><br><span class="line">yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel</span><br></pre></td></tr></table></figure><p>当您运行第一个命令 yum -y groupinstall development tools 时，它会安装一组常用的开发工具，用于在 Linux 系统上构建软件。这些工具包括编译器、链接器和其他用于构建软件的实用程序。</p><p>接下来的命令 yum -y install zlib-devel bzip2-devel openssl-devel ncurses-devel sqlite-devel readline-devel tk-devel gdbm-devel db4-devel libpcap-devel xz-devel 安装 Python 所需的其他开发库。这些库提供了压缩和加密功能、数据库访问支持以及 GUI 工具包（如 Tkinter）等功能。</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar zxvf Python-3.11.2.tgz</span><br></pre></td></tr></table></figure><h4 id="4-编译安装"><a href="#4-编译安装" class="headerlink" title="4.编译安装"></a>4.编译安装</h4><p>重命名解压的文件夹</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv Python-3.11.2 python3</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> python3</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./configure --prefix=/usr/local/python3</span><br><span class="line">make &amp;&amp; make install</span><br></pre></td></tr></table></figure><h5 id="5-加入系统路径"><a href="#5-加入系统路径" class="headerlink" title="5.加入系统路径"></a>5.加入系统路径</h5><p>临时</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export PATH=/usr/local/python3/bin:$PATH</span><br></pre></td></tr></table></figure><p>永久</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;export PATH=/usr/local/python3/bin:$PATH&#x27; &gt;&gt; /etc/profile</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h4 id="6-查看版本"><a href="#6-查看版本" class="headerlink" title="6.查看版本"></a>6.查看版本</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 -V</span><br></pre></td></tr></table></figure><h4 id="7-配置源"><a href="#7-配置源" class="headerlink" title="7.配置源"></a>7.配置源</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pip3 config set global.index-url https://mirrors.aliyun.com/pypi/simple # 永久配置国内镜像源</span><br><span class="line">pip3 config list # 查看下载源配置列表</span><br></pre></td></tr></table></figure><h4 id="卸载"><a href="#卸载" class="headerlink" title="卸载"></a>卸载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa|grep python3|xargs rpm -ev --allmatches --nodeps  # 卸载python3</span><br><span class="line">whereis python3 |xargs rm -frv  # 删除python3所有残余文件，注意是卸载Python3，千万要带3，否则会把系统自带的Python2和yum(依赖Python2)也卸载了</span><br><span class="line">whereis python3  # 查看是否存在python3</span><br><span class="line">python3 # 进入python解释器环境，若提示“-bash: python3: command not found”则说明卸载成功</span><br></pre></td></tr></table></figure><p><a href="https://blog.csdn.net/qq_45430571/article/details/129441491">https://blog.csdn.net/qq_45430571/article/details/129441491</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/idea/%E6%89%93%E5%8C%85jar/"/>
      <url>/2025/07/30/idea/%E6%89%93%E5%8C%85jar/</url>
      
        <content type="html"><![CDATA[<p>title: IDEA 打包jar<br>date: 2025-06-17<br>tags: [idea]</p><h2 id="IDEA-打包jar"><a href="#IDEA-打包jar" class="headerlink" title="IDEA 打包jar"></a>IDEA 打包jar</h2><p><em>使用版本idea2023.3.1</em></p><p><strong>打包jar的两种方式：</strong></p><h3 id="一-使用idea打包"><a href="#一-使用idea打包" class="headerlink" title="一.使用idea打包"></a>一.使用idea打包</h3><h4 id="1-Project-Structure"><a href="#1-Project-Structure" class="headerlink" title="1.Project Structure"></a>1.Project Structure</h4><p><code>File --&gt; Project Structure</code></p><p><img src="/image-20230428140500802.png" alt="image-20230428140500802"></p><h4 id="2-添加Artifacts"><a href="#2-添加Artifacts" class="headerlink" title="2.添加Artifacts"></a>2.添加Artifacts</h4><p><code>Artifacts --&gt;JAR --&gt; From modules</code><img src="/image-20230428140642304.png" alt="image-20230428140642304"></p><h4 id="3-选择Main-Class"><a href="#3-选择Main-Class" class="headerlink" title="3.选择Main  Class"></a>3.选择Main  Class</h4><p><img src="/image-20230428141058519.png" alt="image-20230428141058519"></p><h4 id="4-配置jar包name和输出路径"><a href="#4-配置jar包name和输出路径" class="headerlink" title="4.配置jar包name和输出路径"></a>4.配置jar包name和输出路径</h4><p><img src="/image-20230428141304254.png" alt="image-20230428141304254"></p><h4 id="5-build打包"><a href="#5-build打包" class="headerlink" title="5.build打包"></a>5.build打包</h4><p><code>Build --&gt; Build Artifacts</code></p><p><img src="/image-20230428141602740.png" alt="image-20230428141602740"></p><p><img src="/image-20230428141537932.png" alt="image-20230428141537932"></p><p>可以在输出路径查看<code>jar</code>包,选择<code>clean</code>可以清除包</p><h3 id="二-使用maven打包"><a href="#二-使用maven打包" class="headerlink" title="二.使用maven打包"></a>二.使用maven打包</h3><p><code>maven</code>项目，可以点击<code>maven</code>的<code>package</code>打包</p><p><img src="/image-20230428151034231.png" alt="image-20230428151034231"></p><p>也可以命令行打包<code>mvn package</code></p><p><img src="/image-20230428151318067.png" alt="image-20230428151318067"></p><p>生成的<code>jar</code>在根目录的<code>target</code>目录下</p><p><img src="/image-20230428151436249.png" alt="image-20230428151436249"></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/idea/%E7%88%B6%E5%AD%90%E9%A1%B9%E7%9B%AE/"/>
      <url>/2025/07/30/idea/%E7%88%B6%E5%AD%90%E9%A1%B9%E7%9B%AE/</url>
      
        <content type="html"><![CDATA[<p>title: IDEA 打包jar<br>date: 2025-06-17<br>tags: [idea]</p><h2 id="IDEA-创建父子项目详解"><a href="#IDEA-创建父子项目详解" class="headerlink" title="IDEA 创建父子项目详解"></a>IDEA 创建父子项目详解</h2><h3 id="创建父项目"><a href="#创建父项目" class="headerlink" title="创建父项目"></a>创建父项目</h3><p>新建maven项目</p><p><img src="/image-20210629093811529.png" alt="image-20210629093811529"></p><p><img src="/image-20210629093825529.png" alt="image-20210629093825529"></p><p>目录结构如下</p><p><img src="/image-20210629094442949.png" alt="image-20210629094442949"></p><p>删除src ，pom如下</p><p><img src="/image-20210629095657426.png" alt="image-20210629095657426"></p><h3 id="创建子项目"><a href="#创建子项目" class="headerlink" title="创建子项目"></a>创建子项目</h3><p>创建子项目module，选择<code>Spring Initializr</code>。</p><p><img src="/image-20210629095848284.png" alt="image-20210629095848284"></p><p>创建一个eureka-server子项目</p><p><img src="/image-20210629100204235.png" alt="image-20210629100204235"></p><p>eureka-server的pom.xml</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span><br><span class="line">&lt;project xmlns=<span class="string">&quot;http://maven.apache.org/POM/4.0.0&quot;</span> xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">         xsi:schemaLocation=<span class="string">&quot;http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd&quot;</span>&gt;</span><br><span class="line">    &lt;modelVersion&gt;<span class="number">4.0</span><span class="number">.0</span>&lt;/modelVersion&gt;</span><br><span class="line">    &lt;parent&gt;</span><br><span class="line">        &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">        &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;</span><br><span class="line">        &lt;version&gt;<span class="number">2.5</span><span class="number">.2</span>&lt;/version&gt;</span><br><span class="line">        &lt;relativePath/&gt; &lt;!-- lookup parent from repository --&gt;</span><br><span class="line">    &lt;/parent&gt;</span><br><span class="line">    &lt;groupId&gt;com.example&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;eureka&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;<span class="number">0.0</span><span class="number">.1</span>-SNAPSHOT&lt;/version&gt;</span><br><span class="line">    &lt;name&gt;eureka&lt;/name&gt;</span><br><span class="line">    &lt;description&gt;Demo project <span class="keyword">for</span> Eureka&lt;/description&gt;</span><br><span class="line">    &lt;properties&gt;</span><br><span class="line">        &lt;java.version&gt;<span class="number">1.8</span>&lt;/java.version&gt;</span><br><span class="line">        &lt;spring-cloud.version&gt;<span class="number">2020.0</span><span class="number">.3</span>&lt;/spring-cloud.version&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line">    &lt;dependencies&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-web&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-cloud-starter-netflix-eureka-server&lt;/artifactId&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line"></span><br><span class="line">        &lt;dependency&gt;</span><br><span class="line">            &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">            &lt;artifactId&gt;spring-boot-starter-test&lt;/artifactId&gt;</span><br><span class="line">            &lt;scope&gt;test&lt;/scope&gt;</span><br><span class="line">        &lt;/dependency&gt;</span><br><span class="line">    &lt;/dependencies&gt;</span><br><span class="line">    &lt;dependencyManagement&gt;</span><br><span class="line">        &lt;dependencies&gt;</span><br><span class="line">            &lt;dependency&gt;</span><br><span class="line">                &lt;groupId&gt;org.springframework.cloud&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;spring-cloud-dependencies&lt;/artifactId&gt;</span><br><span class="line">                &lt;version&gt;$&#123;spring-cloud.version&#125;&lt;/version&gt;</span><br><span class="line">                &lt;type&gt;pom&lt;/type&gt;</span><br><span class="line">                &lt;scope&gt;<span class="keyword">import</span>&lt;/scope&gt;</span><br><span class="line">            &lt;/dependency&gt;</span><br><span class="line">        &lt;/dependencies&gt;</span><br><span class="line">    &lt;/dependencyManagement&gt;</span><br><span class="line"></span><br><span class="line">    &lt;build&gt;</span><br><span class="line">        &lt;plugins&gt;</span><br><span class="line">            &lt;plugin&gt;</span><br><span class="line">                &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;</span><br><span class="line">                &lt;artifactId&gt;spring-boot-maven-plugin&lt;/artifactId&gt;</span><br><span class="line">            &lt;/plugin&gt;</span><br><span class="line">        &lt;/plugins&gt;</span><br><span class="line">    &lt;/build&gt;</span><br><span class="line"></span><br><span class="line">&lt;/project&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>将子项目生成的如下依赖剪切到父项目pom</p><p><img src="/image-20210629104556364.png" alt="image-20210629104556364"></p><p>父项目添加modules</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&lt;modules&gt;</span></span><br><span class="line"><span class="string">&lt;module&gt;eureka-server&lt;/module&gt;</span></span><br><span class="line"><span class="string">&lt;/modules&gt;</span></span><br></pre></td></tr></table></figure><p>子项目添加父项目标识</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;parent&gt;</span><br><span class="line">    &lt;groupId&gt;org.example&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;cloud&lt;/artifactId&gt;</span><br><span class="line">    &lt;version&gt;1.0-SNAPSHOT&lt;/version&gt;</span><br><span class="line">&lt;/parent&gt;</span><br></pre></td></tr></table></figure><p>搭建成功</p><p>添加其他子项目就执行最后两步。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/centos-root%E6%89%A9%E5%AE%B9/"/>
      <url>/2025/07/30/linux/centos-root%E6%89%A9%E5%AE%B9/</url>
      
        <content type="html"><![CDATA[<p>title: linux扩容<br>date: 2025-06-17<br>tags: [linux]</p><h2 id="dev-mapper-centos-root-扩容"><a href="#dev-mapper-centos-root-扩容" class="headerlink" title="&#x2F;dev&#x2F;mapper&#x2F;centos-root 扩容"></a>&#x2F;dev&#x2F;mapper&#x2F;centos-root 扩容</h2><p>出现问题空间不足</p><p><img src="/image-20230814152645992.png" alt="image-20230814152645992"></p><p>解决方法：扩容</p><p>1.虚拟机设置扩展磁盘</p><p><img src="/image-20230814172036459.png" alt="image-20230814172036459"></p><p>2.分区</p><p><code>fdisk /dev/sda</code></p><p><img src="/image-20230815090320028.png" alt="image-20230815090320028"></p><p>输入<code>m</code>,<code>p</code>,查看当前分区</p><p><img src="/image-20230815090605438.png" alt="image-20230815090605438"></p><p>输入<code>n</code>新建分区，输入p建立分区，然后回车</p><p><img src="/image-20230815094307293.png" alt="image-20230815094307293"></p><p>最后输入w，保存退出</p><p><img src="/image-20230815094411009.png" alt="image-20230815094411009"></p><p>建立好的分区还不能用，还需要挂载才可以用。但是挂载之前，必须要格式化。</p><p>3.格式化</p><p>reboot重启虚拟机 或<code>partprobe</code>刷新</p><p><code>lsblk</code>查看分区,sda4就是新建的分区</p><p><img src="/image-20230815095916394.png" alt="image-20230815095916394"></p><p>格式化<code>mkfs.ext4 /dev/sda4</code></p><p><img src="/image-20230815100141775.png" alt="image-20230815100141775"></p><p>4.物理分区转为卷组</p><p><code>pvcreate /dev/sda4</code></p><p>5.显示卷组</p><p><code>vgdisplay</code></p><p><img src="/image-20230815101640004.png" alt="image-20230815101640004"></p><p>6扩容&#x2F;dev&#x2F;sda4分区到centos卷组</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vgextend centos /dev/sda4</span><br></pre></td></tr></table></figure><p>7将扩展空间扩容到&#x2F;dev&#x2F;mapper&#x2F;centos-root</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">lvextend -l +100%FREE /dev/mapper/centos-root</span><br></pre></td></tr></table></figure><p>8更新逻辑卷，使扩容生效</p><p>xfs文件系统使用此命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">xfs_growfs /dev/mapper/centos-data</span><br></pre></td></tr></table></figure><p>ext4文件系统使用此命令：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">resize2fs /dev/mapper/centos-data</span><br></pre></td></tr></table></figure><p>9查看磁盘目录</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">df</span> -h</span><br></pre></td></tr></table></figure><p><img src="/image-20230815102331015.png" alt="image-20230815102331015"></p><p>成功挂载</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/find/"/>
      <url>/2025/07/30/linux/find/</url>
      
        <content type="html"><![CDATA[<p>title: Linux find命令<br>date: 2025-06-17<br>tags: [idea]</p><p><a href="https://blog.csdn.net/wlg198377/article/details/123289826">https://blog.csdn.net/wlg198377/article/details/123289826</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/linux/firewalld%E9%98%B2%E7%81%AB%E5%A2%99/"/>
      <url>/2025/07/30/linux/firewalld%E9%98%B2%E7%81%AB%E5%A2%99/</url>
      
        <content type="html"><![CDATA[<p>title: firewalld防火墙和端口暴露<br>date: 2025-06-17<br>tags: [linux]</p><p>firewalld防火墙和端口暴露</p><h3 id="firewall防火墙"><a href="#firewall防火墙" class="headerlink" title="firewall防火墙"></a><a href="https://so.csdn.net/so/search?q=firewall&spm=1001.2101.3001.7020">firewall</a>防火墙</h3><ol><li><p>查看firewall服务状态</p><p>执行命令：systemctl status firewalld</p><p>出现Active: active (running)切高亮显示则表示是启动状态<br>出现Active: inactive (dead)灰色表示停止</p></li><li><p>查看firewall的状态 </p><p>执行命令：firewall-cmd –state</p></li><li><p>开启\重启\关闭firewalld.service服务 </p><p>开启：service firewalld start</p><p>重启：service firewalld restart</p><p>关闭 service firewalld stop</p></li><li><p>查看防火墙规则 </p><p>执行命令：firewall-cmd –list-all</p></li><li><p>查询、开放、关闭端口</p><p>查询80端口是否开放：firewall-cmd –query-port&#x3D;80&#x2F;tcp<br>no表示不开放<br>yes表示开放<br>开放80端口：firewall-cmd –permanent –add-port&#x3D;80&#x2F;tcp<br>移除开放的80端口：firewall-cmd –permanent –remove-port&#x3D;80&#x2F;tcp<br>重启防火墙(修改配置后要重启防火墙)：firewall-cmd –reload</p></li></ol><h3 id="暴露端口"><a href="#暴露端口" class="headerlink" title="暴露端口"></a>暴露端口</h3><ol><li>查看暴露的端口号：iptables-save</li><li>开放端口号：firewall-cmd –zone&#x3D;public –add-port&#x3D;80&#x2F;tcp –permanent</li><li>重新加载：firewall-cmd –reload</li></ol>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/idea/idea%E7%BA%A2%E8%89%B2%E6%96%87%E4%BB%B6/"/>
      <url>/2025/07/30/idea/idea%E7%BA%A2%E8%89%B2%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p>title: IDEA红色文件处理<br>date: 2025-06-17<br>tags: [idea]</p><p><img src="/image-20230508161340020.png" alt="image-20230508161340020"></p><p>idea显示文件红色说明没有加入版本控制git</p><p><img src="/image-20230508161908747.png" alt="image-20230508161908747"></p><p>直接文件右键Add,红色文件就变绿色。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/hexo/hexo%E4%B8%BB%E9%A2%98/"/>
      <url>/2025/07/30/hexo/hexo%E4%B8%BB%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<p>title: hexo主题<br>date: 2025-06-17<br>tags: [hexo]</p><p>使用了anzhiyu主题</p><p>地址：<a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu">https://github.com/anzhiyu-c/hexo-theme-anzhiyu</a></p><p>1.克隆项目</p><p>在博客根目录执行</p><p>git clone <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git">https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git</a> themes&#x2F;anzhiyu</p><p>也可以使用main分支，更稳定</p><p><img src="C:\Users\dengsm\AppData\Roaming\Typora\typora-user-images\image-20230829101152051.png" alt="image-20230829101152051"></p><p>git clone -b main <a href="https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git">https://github.com/anzhiyu-c/hexo-theme-anzhiyu.git</a> themes&#x2F;anzhiyu</p><p>2.应用主题</p><p>修改hexo配置文件_config.yml的主题</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: anzhiyu</span><br></pre></td></tr></table></figure><p>安装pug和stylus渲染器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><p>3.覆盖配置</p><p>覆盖配置可以使<code>主题配置</code>放置在 anzhiyu 目录之外，避免在更新主题时丢失自定义的配置。</p><ul><li>macos&#x2F;linux 在博客根目录运行</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cp -rf ./themes/anzhiyu/_config.yml ./_config.anzhiyu.yml</span><br></pre></td></tr></table></figure><ul><li>windows 复制<code>/themes/anzhiyu/_config.yml</code>此文件到 hexo 根目录，并重命名为<code>_config.anzhiyu.yml</code></li></ul><p>以后如果修改任何主题配置，都只需修改 _config.anzhiyu.yml 的配置即可。</p><p>注意：</p><ul><li>只要存在于 <code>_config.anzhiyu.yml</code> 的配置都是高优先级，修改原 <code>_config.yml</code> 是无效的。</li><li>每次更新主题可能存在配置变更，请注意更新说明，可能需要手动对 <code>_config.anzhiyu.yml</code> 同步修改。</li><li>想查看覆盖配置有没有生效，可以通过 <code>hexo g --debug</code> 查看命令行输出。</li><li>如果想将某些配置覆盖为空，注意不要把主键删掉，不然是无法覆盖的</li></ul><p>4.本地启动</p><p><code>hexo s </code>默认4000端口</p><p>添加<code>-p</code>参数指定端口 <code>hexo s -p 5000</code></p><p>其他：</p><p>图片加载</p><p>修改lazyload为false</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># Lazyload (图片懒加载)</span><br><span class="line"># https://github.com/verlok/vanilla-lazyload</span><br><span class="line">lazyload:</span><br><span class="line">  enable: false</span><br></pre></td></tr></table></figure><p>1.banner左侧倾斜滚动栏和右侧图片</p><p>左侧：根目录创建<code>/source/_data/creativity.yml</code>,输入以下内容</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> <span class="attr">class_name:</span> <span class="string">开启创造力</span></span><br><span class="line">  <span class="attr">creativity_list:</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Java</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#fff&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b1184e9.jpg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Docker</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#57b6e6&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b0f0abe.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Photoshop</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#4082c3&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2022/12/15/639aa3a5c240e.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Node</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#333&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://npm.elemecdn.com/anzhiyu-blog@2.1.1/img/svg/node-logo.svg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Webpack</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#2e3a41&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b68026c.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Pinia</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#fff&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/pinia-logo.svg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Python</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#fff&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b1230f7.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Vite</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#937df7&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://npm.elemecdn.com/anzhiyu-blog@2.0.8/img/svg/vite-logo.svg</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Flutter</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#4499e4&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b1055c2.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Vue</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#b8f0ae&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b6788bd.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">React</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#222&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">CSS3</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#2c51db&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2022/12/15/639aa3a5c251e.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">JS</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#f7cb4f&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b121f02.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">HTML</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#e9572b&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2022/12/15/639aa3a5c241c.png</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Git</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#df5b40&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2023/04/09/643293b10ccdd.webp</span></span><br><span class="line">    <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Apifox</span></span><br><span class="line">      <span class="attr">color:</span> <span class="string">&quot;#e65164&quot;</span></span><br><span class="line">      <span class="attr">icon:</span> <span class="string">https://bu.dusays.com/2022/11/19/6378d6458c6b6.png</span></span><br></pre></td></tr></table></figure><p>右侧图片在<code>_config.anzhiyu.yml</code>配置，img路径在对应主题<code>themes</code>下的img路径</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">  <span class="attr">banner:</span></span><br><span class="line">    <span class="attr">tips:</span> <span class="string">新品主题</span></span><br><span class="line">    <span class="attr">title:</span> <span class="string">Theme-AnZhiYu</span></span><br><span class="line"><span class="comment">#    image: https://pic1.zhimg.com/80/v2-3b2cf9cbe79b40d6e75bbaf494131ec4_720w.webp</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">/img/j1.jpg</span></span><br><span class="line">    <span class="attr">link:</span> <span class="string">https://docs.anheyu.com/</span></span><br></pre></td></tr></table></figure><p>2.文章右侧头像和微信二维码</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Avatar (头像)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/tou.jpg</span> <span class="comment"># https://bu.dusays.com/2023/04/27/64496e511b09c.jpg</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span></span><br></pre></td></tr></table></figure><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">card_weixin:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">face:</span> <span class="string">https://bu.dusays.com/2023/01/13/63c02edf44033.png</span></span><br><span class="line">    <span class="attr">backFace:</span> <span class="comment"># https://bu.dusays.com/2023/05/13/645fa415e8694.png</span></span><br></pre></td></tr></table></figure><p>3.建站天数和页脚天数</p><p>建站天数</p><p>页脚天数</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">footer:</span></span><br><span class="line">  <span class="attr">owner:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">since:</span> <span class="number">2023</span></span><br><span class="line">  <span class="attr">custom_text:</span></span><br><span class="line">  <span class="attr">runtime:</span></span><br><span class="line">    <span class="attr">enable:</span> <span class="literal">true</span></span><br><span class="line">    <span class="attr">launch_time:</span> <span class="number">04</span><span class="string">/01/2023</span> <span class="number">00</span><span class="string">:00:00</span> <span class="comment"># 网站上线时间</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/hexo/hexo%E5%8D%87%E7%BA%A7/"/>
      <url>/2025/07/30/hexo/hexo%E5%8D%87%E7%BA%A7/</url>
      
        <content type="html"><![CDATA[<p>title: hexo升级<br>date: 2025-06-17<br>tags: [hexo]</p><h2 id="hexo升级"><a href="#hexo升级" class="headerlink" title="hexo升级"></a>hexo升级</h2><p>之前安装过hexo,启动主题时提示</p><p><img src="C:\Users\dengsm\AppData\Roaming\Typora\typora-user-images\image-20240606151551487.png" alt="image-20240606151551487"></p><p>1.查看当前版本</p><p><code>hexo -v</code></p><p>2.升级到指定版本</p><p><a href="https://www.npmjs.com/package/hexo">https://www.npmjs.com/package/hexo</a> 可以查看版本</p><p><img src="D:\TyporaNote\blog\image-20240606163123911.png" alt="image-20240606163123911"></p><p>升级到7.0</p><p><code>npm i hexo@7.0.0</code></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title></title>
      <link href="/2025/07/30/hexo/hexo%E6%B5%81%E7%A8%8B/"/>
      <url>/2025/07/30/hexo/hexo%E6%B5%81%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>title: hexo流程<br>date: 2025-06-17<br>tags: [hexo]</p><h2 id="hexo流程"><a href="#hexo流程" class="headerlink" title="hexo流程"></a>hexo流程</h2><p>1.搭建hexo环境，添加主题</p><p>安装node</p><p>安装hexo</p><p>配置主题</p><p>在themes文件夹下拉取对应想要的主题</p><p>git clone -b main <a href="https://github.com/everfu/hexo-theme-solitude.git">https://github.com/everfu/hexo-theme-solitude.git</a> themes&#x2F;solitude</p><p>把<code>.gitignore</code>文件,<code>.git</code>和<code>.github</code>文件夹删掉，主要是为了后面自动化部署。</p><p>配置yml</p><p>2.编写md文档</p><p>3.生成文件，并推送</p><p><code>hexo deploy</code> (Hexo 会将 public 目录中的文件和目录推送至 <code>_config.yml</code> 中指定的远端仓库和分支中，并且完全覆盖该分支下的已有内容。)</p><p>4.同步仓库到github(源码管理)</p><p>hexo  d 只是推送了生成的静态文件到我们指定的分支。但是我们的源码该如何管理。</p><p>1.在github创建新分支source,</p><p>新分支创建后，因为来源于之前的mian分支，会有之前的文件代码。我们主要是想在这个分支管理源码</p><p>在setting里将默认分支切换成新建的分支source,这样我们git clone 时拉取的就是源码了。</p><p>2.<strong>将本地hexo目录与远程仓库关联</strong></p><p>进入本地hexo工程目录，</p><p>初始化git仓库</p><p>1)git init</p><p>如果要取消初始化，直接删除.git文件夹</p><p>2)添加远程地址，使用ssh方式。</p><p>使用https方式后续push时需要验证用户名密码，git已不支持这种方式验证。如果已添加远程库，可以用</p><p><code>git remote rm origin</code> 去除远程库。</p><p><code>git remote add origin git@github.com:smallmayi/smallmayi.github.io.git</code></p><p>3)添加<code>.gitignore</code>文件，只保留源码，其他不推送</p><p><code>.DS_STORE</code><br><code>db.json</code><br><code>*.log node_modules/ public/ .deploy*/</code></p><p>3)git add .</p><p><img src="D:\TyporaNote\blog\image-20240607151903306.png" alt="image-20240607151903306"></p><p>报错，因为有子仓库，里面的主题也是git拉取</p><p>按照提示</p><p><code>git submodule add url themes</code> ,url 为仓库地址</p><p>下执行</p><p><code>git submodule add https://github.com/everfu/hexo-theme-solitude.git themes/solitude</code></p><p>当上面在主题目录删除git后提示如下</p><p><img src="D:\TyporaNote\blog\image-20240627151417477.png" alt="image-20240627151417477"></p><p><img src="D:\TyporaNote\blog\image-20240627151435813.png" alt="image-20240627151435813"></p><p>4)提交远程source分支</p><p>git push origin source</p><p>提交失败，因为之前远程的souce分支是我们直接从main分支复制的，和我们现在要提交的差异过大(因为我们不是拉取远程进行修改的，我们也不需要pull)，强制推送</p><p><code>git push origin source --force</code></p><p>5）查看仓库</p><p><img src="D:\TyporaNote\blog\image-20240619165050143.png" alt="image-20240619165050143"></p><p>可以看到已成功提交，且已经忽略生成的public文件夹。</p><p>2.使用git action</p><p>上面我们提交了源码和页面，但是每次写了文章我们需要手动hexo d 推送生成的页面，使用git action自动执行实现我们推送源码后自动执行生成页面。</p><p>1）生成个人token</p><p><a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p><p><img src="D:\TyporaNote\blog\image-20240621164611994.png" alt="image-20240621164611994"></p><p>选择不过期，勾选repo和workflow</p><p>生成的token记得复制保存下来，只能看这一次。</p><p>2）添加自定token</p><p><img src="D:\TyporaNote\blog\image-20240711154004113.png" alt="image-20240711154004113"></p><p>在setting下添加一个自定义secret,名称自定义，内容为之前的token。</p><p>3）去Github的自己仓库点击Actions，新建一个workflow工作流。</p><p>里面的依赖等根据情况配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">source</span>  <span class="comment"># 当推送到 source 分支时触发</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">submodules:</span> <span class="literal">false</span>  <span class="comment"># 禁用子模块检查</span></span><br><span class="line">          </span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v2</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&#x27;18&#x27;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Hexo</span> <span class="string">Git</span> <span class="string">Deployer</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install hexo-deployer-git --save</span></span><br><span class="line"><span class="string">          npm install hexo-cli -g</span></span><br><span class="line"><span class="string">          npm install hexo-renderer-pug hexo-renderer-stylus --save</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Clean</span> <span class="string">and</span> <span class="string">Generate</span> <span class="string">Static</span> <span class="string">Files</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Configure</span> <span class="string">Git</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.name &#x27;smallmayi&#x27;</span></span><br><span class="line"><span class="string">          git config --global user.email &#x27;1591698916@qq.com&#x27;</span></span><br><span class="line"><span class="string"></span>      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GH_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.BLOGAUTO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          cd public/</span></span><br><span class="line"><span class="string">          git init</span></span><br><span class="line"><span class="string">          git add -A</span></span><br><span class="line"><span class="string">          git commit -m &quot;update by workflows&quot;</span></span><br><span class="line"><span class="string">          git remote add origin https://$&#123;&#123; secrets.BLOGAUTO &#125;&#125;@github.com/smallmayi/smallmayi.github.io.git</span></span><br><span class="line"><span class="string">          git push origin HEAD:main -f</span></span><br></pre></td></tr></table></figure><p>现在就配置好了，后续只需要在<code>_post</code>添加文章上传就行，会自动部署生成文件。</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>QQ微信防撤回</title>
      <link href="/2025/07/29/windows/QQ%E5%BE%AE%E4%BF%A1%E9%98%B2%E6%92%A4%E5%9B%9E/"/>
      <url>/2025/07/29/windows/QQ%E5%BE%AE%E4%BF%A1%E9%98%B2%E6%92%A4%E5%9B%9E/</url>
      
        <content type="html"><![CDATA[<h3 id="一-git地址"><a href="#一-git地址" class="headerlink" title="一.git地址"></a>一.git地址</h3><p><a href="https://github.com/huiyadanli/RevokeMsgPatcher">https://github.com/huiyadanli/RevokeMsgPatcher</a></p><h3 id="二-使用"><a href="#二-使用" class="headerlink" title="二.使用"></a>二.使用</h3><p>解压使用</p>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>win11右键管理</title>
      <link href="/2025/07/29/windows/Win11%E5%8F%B3%E9%94%AE%E7%AE%A1%E7%90%86/"/>
      <url>/2025/07/29/windows/Win11%E5%8F%B3%E9%94%AE%E7%AE%A1%E7%90%86/</url>
      
        <content type="html"><![CDATA[<h3 id="一-启用"><a href="#一-启用" class="headerlink" title="一.启用"></a>一.启用</h3><h4 id="1-启用经典上下文菜单，就是注册表添加"><a href="#1-启用经典上下文菜单，就是注册表添加" class="headerlink" title="1.启用经典上下文菜单，就是注册表添加"></a>1.启用经典上下文菜单，就是注册表添加</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reg add <span class="string">&quot;HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;\InprocServer32&quot;</span> /f /ve</span><br></pre></td></tr></table></figure><h4 id="2-任务管理器重启windows资源管理器"><a href="#2-任务管理器重启windows资源管理器" class="headerlink" title="2.任务管理器重启windows资源管理器"></a>2.任务管理器重启windows资源管理器</h4><h3 id="二-撤销"><a href="#二-撤销" class="headerlink" title="二.撤销"></a>二.撤销</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">reg delete <span class="string">&quot;HKCU\Software\Classes\CLSID\&#123;86ca1aa0-34aa-4e8b-a509-50c905bae2a2&#125;&quot;</span> /f</span><br></pre></td></tr></table></figure><p>同样重启资源管理器</p>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>无外网环境下的镜像获取</title>
      <link href="/2025/07/24/docker/%E6%97%A0%E5%A4%96%E7%BD%91%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E9%95%9C%E5%83%8F%E8%8E%B7%E5%8F%96/"/>
      <url>/2025/07/24/docker/%E6%97%A0%E5%A4%96%E7%BD%91%E7%8E%AF%E5%A2%83%E4%B8%8B%E7%9A%84%E9%95%9C%E5%83%8F%E8%8E%B7%E5%8F%96/</url>
      
        <content type="html"><![CDATA[<h3 id="一．导出镜像"><a href="#一．导出镜像" class="headerlink" title="一．导出镜像"></a>一．导出镜像</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查看 MySQL 镜像名称和版本</span></span><br><span class="line">docker images</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">导出镜像为 .tar 文件（例如：mysql:5.7）</span></span><br><span class="line">docker save -o mysql_image.tar mysql:5.7</span><br></pre></td></tr></table></figure><h3 id="二．传输镜像"><a href="#二．传输镜像" class="headerlink" title="二．传输镜像"></a>二．传输镜像</h3><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp mysql_image.tar user@目标机器IP:/目标路径/</span><br></pre></td></tr></table></figure><h3 id="三．目标机器加载镜像"><a href="#三．目标机器加载镜像" class="headerlink" title="三．目标机器加载镜像"></a>三．目标机器加载镜像</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker load -i mysql_image.tar</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>修改mac地址工具（Technitium-MAC-Address-Changer）</title>
      <link href="/2025/06/30/tools/%E4%BF%AE%E6%94%B9%E7%94%B5%E8%84%91mac%E5%9C%B0%E5%9D%80/"/>
      <url>/2025/06/30/tools/%E4%BF%AE%E6%94%B9%E7%94%B5%E8%84%91mac%E5%9C%B0%E5%9D%80/</url>
      
        <content type="html"><![CDATA[<h2 id="Technitium-MAC-Address-Changer"><a href="#Technitium-MAC-Address-Changer" class="headerlink" title="Technitium-MAC-Address-Changer"></a>Technitium-MAC-Address-Changer</h2><h3 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h3><p><a href="https://technitium.com/tmac/">https://technitium.com/tmac/</a></p><h3 id="2-界面"><a href="#2-界面" class="headerlink" title="2.界面"></a>2.界面</h3><p>修改有问题的mac地址，点击<code>Random MAC Address</code></p><p><img src="https://i-blog.csdnimg.cn/blog_migrate/f1a6ae21aaaf6aa5886309186dd59400.png" alt="img"></p>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows下ubuntu使用</title>
      <link href="/2025/06/19/windows/windows%E4%B8%8Bubuntu%E4%BD%BF%E7%94%A8/"/>
      <url>/2025/06/19/windows/windows%E4%B8%8Bubuntu%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h2 id="windows下ubuntu使用"><a href="#windows下ubuntu使用" class="headerlink" title="windows下ubuntu使用"></a>windows下ubuntu使用</h2><h4 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h4><p>应用商店搜索 ubuntu</p><h4 id="2-配置"><a href="#2-配置" class="headerlink" title="2.配置"></a>2.配置</h4><p><img src="/image-20250625164804754.png" alt="image-20250625164804754"></p><p>直接启动是报错的，启用下面的功能，然后重启</p><p><img src="/image-20250625173509666.png" alt="image-20250625173509666"></p>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows删除文件和文件夹</title>
      <link href="/2025/06/19/windows/windows%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9/"/>
      <url>/2025/06/19/windows/windows%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%E5%92%8C%E6%96%87%E4%BB%B6%E5%A4%B9/</url>
      
        <content type="html"><![CDATA[<h2 id="windows删除文件和文件夹"><a href="#windows删除文件和文件夹" class="headerlink" title="windows删除文件和文件夹"></a>windows删除文件和文件夹</h2><h4 id="1-添加文件"><a href="#1-添加文件" class="headerlink" title="1.添加文件"></a>1.添加文件</h4><p><code>deleteFile.bat</code></p><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">echo</span> off</span><br><span class="line">chcp <span class="number">65001</span> &gt;nul</span><br><span class="line">title 文件/文件夹彻底删除工具</span><br><span class="line">color <span class="number">0</span>A</span><br><span class="line"></span><br><span class="line">:: 检查是否拖放了文件或文件夹</span><br><span class="line"><span class="keyword">if</span> <span class="string">&quot;%~1&quot;</span>==<span class="string">&quot;&quot;</span> (</span><br><span class="line">    <span class="built_in">echo</span> 请将文件或文件夹拖放到此批处理文件上</span><br><span class="line">    pause</span><br><span class="line">    <span class="keyword">exit</span> /b</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: 显示警告信息</span><br><span class="line"><span class="built_in">echo</span> 警告：此操作将永久删除目标内容！</span><br><span class="line"><span class="built_in">echo</span> 目标路径：%~<span class="number">1</span></span><br><span class="line"><span class="built_in">echo</span>.</span><br><span class="line"><span class="built_in">echo</span> 确定要继续吗？(Y/N)</span><br><span class="line">choice /c YN /n /m <span class="string">&quot;请选择&quot;</span></span><br><span class="line"><span class="keyword">if</span> errorlevel <span class="number">2</span> (</span><br><span class="line">    <span class="built_in">echo</span> 操作已取消</span><br><span class="line">    pause</span><br><span class="line">    <span class="keyword">exit</span> /b</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: 判断是文件还是文件夹</span><br><span class="line"><span class="keyword">if</span> exist <span class="string">&quot;%~1\&quot;</span> (</span><br><span class="line">    <span class="built_in">echo</span> 正在彻底删除文件夹...</span><br><span class="line">    <span class="built_in">rd</span> /s /q <span class="string">&quot;%~1&quot;</span> &gt;nul <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">    <span class="built_in">echo</span> 正在删除文件...</span><br><span class="line">    <span class="built_in">del</span> /f /q <span class="string">&quot;%~1&quot;</span> &gt;nul <span class="number">2</span>&gt;&amp;<span class="number">1</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">:: 检查是否删除成功</span><br><span class="line"><span class="keyword">if</span> exist <span class="string">&quot;%~1&quot;</span> (</span><br><span class="line">    <span class="built_in">echo</span> 删除失败！请检查权限或文件是否被占用。</span><br><span class="line">) <span class="keyword">else</span> (</span><br><span class="line">    <span class="built_in">echo</span> 删除成功！</span><br><span class="line">)</span><br><span class="line">pause</span><br></pre></td></tr></table></figure><h4 id="2-将文件夹移入"><a href="#2-将文件夹移入" class="headerlink" title="2.将文件夹移入"></a>2.将文件夹移入</h4><p><strong>参考</strong>：<a href="https://blog.csdn.net/2401_85361040/article/details/146583682">https://blog.csdn.net/2401_85361040/article/details/146583682</a></p>]]></content>
      
      
      
        <tags>
            
            <tag> windows </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>哔哩哔哩工具箱</title>
      <link href="/2025/06/17/tools/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%B7%A5%E5%85%B7%E7%AE%B1/"/>
      <url>/2025/06/17/tools/%E5%93%94%E5%93%A9%E5%93%94%E5%93%A9%E5%B7%A5%E5%85%B7%E7%AE%B1/</url>
      
        <content type="html"><![CDATA[<h2 id="1-git项目地址"><a href="#1-git项目地址" class="headerlink" title="1.git项目地址"></a>1.git项目地址</h2><figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/btjawa/BiliTools</span><br></pre></td></tr></table></figure><h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h2>]]></content>
      
      
      <categories>
          
          <category> 工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> tool </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>API推荐</title>
      <link href="/2025/06/16/%E5%85%8D%E8%B4%B9api%E6%8E%A8%E8%8D%90/"/>
      <url>/2025/06/16/%E5%85%8D%E8%B4%B9api%E6%8E%A8%E8%8D%90/</url>
      
        <content type="html"><![CDATA[<h4 id="一些免费api"><a href="#一些免费api" class="headerlink" title="一些免费ａｐｉ"></a>一些免费ａｐｉ</h4><table><thead><tr><th align="center">模型名称</th><th>厂商</th><th>模型简介</th></tr></thead><tbody><tr><td align="center">Hunyuan-lite</td><td>腾讯</td><td>满足绝大部分对效果、推理性能、成本控制相对平衡的需求场景</td></tr><tr><td align="center">Spark Lite</td><td>讯飞星火</td><td>响应快速、便捷，全面免费开放，适用于低算力推理与模型精调等定制化场景</td></tr><tr><td align="center">ChatAnywhere GPT_API_free</td><td></td><td></td></tr><tr><td align="center">QWQ.aigpu.cn</td><td></td><td></td></tr></tbody></table>]]></content>
      
      
      
        <tags>
            
            <tag> AI </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker可视化</title>
      <link href="/2025/06/16/docker/Docker%E5%AE%89%E8%A3%85%E5%8F%AF%E8%A7%86%E5%8C%96portainer/"/>
      <url>/2025/06/16/docker/Docker%E5%AE%89%E8%A3%85%E5%8F%AF%E8%A7%86%E5%8C%96portainer/</url>
      
        <content type="html"><![CDATA[<h2 id="Docker安装可视化portainer"><a href="#Docker安装可视化portainer" class="headerlink" title="Docker安装可视化portainer"></a>Docker安装可视化portainer</h2><blockquote><p>portainer新版本已经换到portainer-ce库了</p></blockquote><h3 id="1-拉取镜像"><a href="#1-拉取镜像" class="headerlink" title="1.拉取镜像"></a>1.拉取镜像</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull portainer/portainer-ce</span><br></pre></td></tr></table></figure><h3 id="2-启动容器"><a href="#2-启动容器" class="headerlink" title="2.启动容器"></a>2.启动容器</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">docker run \</span><br><span class="line">-d \</span><br><span class="line">--name portainer \</span><br><span class="line">-p 9101:9000 \</span><br><span class="line">--restart=always \</span><br><span class="line">-v /var/run/docker.sock:/var/run/docker.sock \</span><br><span class="line">-v /etc/localtime:/etc/localtime:ro \</span><br><span class="line">summary/portainer-ce</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">docker run：运行并启动容器</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-d：在后台运行容器，并输入容器ID</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--name：设置容器的名称</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-p 9101:9000：容器的9000端口映射宿主机9101端口（程序访问端口）</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">--restart：可选配置，设置容器启动之后自动重启，默认no，always表示启动容器后重启</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v：设置映射目录</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">-v：设置容器时间与宿主机时间一致</span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">执行安装的镜像信息，格式：名称:标签（REPOSITORY:TAG）</span></span><br></pre></td></tr></table></figure><p>xxxx:9101 访问页面</p>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker命令</title>
      <link href="/2025/06/16/docker/docker%E5%91%BD%E4%BB%A4/"/>
      <url>/2025/06/16/docker/docker%E5%91%BD%E4%BB%A4/</url>
      
        <content type="html"><![CDATA[<h3 id="Docker命令"><a href="#Docker命令" class="headerlink" title="Docker命令"></a>Docker命令</h3><h4 id="基础命令"><a href="#基础命令" class="headerlink" title="基础命令"></a>基础命令</h4><ul><li><p>系统信息</p><p><code>docker info</code></p></li><li><p>版本信息</p><p><code>docker version</code></p></li></ul><h4 id="imges镜像"><a href="#imges镜像" class="headerlink" title="imges镜像"></a><code>imges</code>镜像</h4><ul><li><p>拉取镜像</p><p><code>docker pull repository:tag</code>   (<code>repository:tag</code> 替换成对应的仓库和tag)</p><p><a href="https://hub.docker.com/">https://hub.docker.com/</a> 官网查找对应仓库和tag</p></li><li><p>查看所有镜像</p><p><code>docker images</code> </p></li><li><p>删除单个镜像</p><p>​根据仓库tag</p><p>​<code>docker rmi repository:tag</code> (<code>repository:tag</code> 替换成对应的仓库和tag)</p><p>​根据镜像id</p><p>​<code>docker rmi imageId</code>  (<code>imageid</code>替换成对应镜像Id)</p></li><li><p>删除所有镜像 </p><p><code>docker rmi $(docker images -q)</code></p><p> <code>-q</code>：只输出镜像id</p></li><li><p>启动镜像<br><code>docker run</code></p></li></ul><h4 id="contaniner容器"><a href="#contaniner容器" class="headerlink" title="contaniner容器"></a><code>contaniner</code>容器</h4><ul><li><p>查看运行容器</p><p><code>docker ps</code></p></li><li><p>查看所有容器</p><p><code>docker ps -a</code> </p><p><code>-a</code>：显示所有容器，包括未运行</p></li><li><p>启动容器</p><p><code>docker start containerId</code> (<code>containerId</code>替换成容器Id)</p><p><code>docker start containerName</code>(<code>containerName</code>替换成容器name)</p></li><li><p>停止容器</p><p><code>docker stop containerId</code> (<code>containerId</code>替换成容器Id)</p><p><code>docker stop containerName</code>(<code>containerName</code>替换成容器name)</p></li><li><p>进入容器<br><code>docker exec -it containerId /bin/bash</code>  (<code>containerId</code>替换成对应容器Id)</p></li><li><p>删除单个容器</p><p>​根据仓库tag</p><p>​<code>docker rm repository:tag</code> (<code>repository:tag</code> 替换成对应的仓库和tag)</p><p>​根据容器id</p><p>​<code>docker rm containerId</code>    (<code>containerId</code>替换成对应容器Id)</p></li><li><p>启用所有容器</p><p><code>docker start $(docker ps -a -q)</code></p></li><li><p>停用所有运行中容器</p><p><code>docker stop $(docker ps -q)</code></p><p><code>-q</code>：只显示id</p></li><li><p>删除所有容器</p><p><code>docker rm -f $(docker ps -aq)</code></p></li></ul>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker安装挂载mysql</title>
      <link href="/2025/06/16/docker/docker%E5%AE%89%E8%A3%85%E6%8C%82%E8%BD%BDmysql/"/>
      <url>/2025/06/16/docker/docker%E5%AE%89%E8%A3%85%E6%8C%82%E8%BD%BDmysql/</url>
      
        <content type="html"><![CDATA[<h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull mysql:latest</span><br></pre></td></tr></table></figure><h3 id="2-挂载"><a href="#2-挂载" class="headerlink" title="2.挂载"></a>2.挂载</h3><h4 id="1）复制文件到宿主机"><a href="#1）复制文件到宿主机" class="headerlink" title="1）复制文件到宿主机"></a>1）复制文件到宿主机</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">创建挂载目录</span></span><br><span class="line">mkdir -p /home/mysql/conf &amp;&amp; mkdir -p /home/mysql/data &amp;&amp; mkdir -p /home/mysql/log</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">运行mysql命名容器名称为mysql并且设置root账号初始密码为root</span></span><br><span class="line">docker run  -p 3306:3306 --name mysql -e MYSQL_ROOT_PASSWORD=&quot;root&quot; -d mysql</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">将容器的配置复制到挂载目录</span></span><br><span class="line">docker cp mysql:/etc/my.cnf /home/mysql/conf/</span><br></pre></td></tr></table></figure><p>下面是查看路径命令，可忽略</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">进入docker容器，mysql为刚安装的容器名称</span></span><br><span class="line">docker exec -it mysql或者mysql容器ID /bin/bash</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">查找Docker内，MySQL配置文件my.cnf的位置</span></span><br><span class="line">mysql --help | grep my.cnf</span><br><span class="line"><span class="meta prompt_"> </span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">进入mysql,会输出数据文件的存放路径 /var/lib/mysql/</span></span><br><span class="line">show variables like &#x27;%datadir%&#x27;;</span><br></pre></td></tr></table></figure><h4 id="2-挂载-1"><a href="#2-挂载-1" class="headerlink" title="2)挂载"></a>2)挂载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭该容器</span></span><br><span class="line">docker stop mysql</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除该容器</span></span><br><span class="line">docker rm mysql</span><br></pre></td></tr></table></figure><p>挂载前先修改参数</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /home/mysql/conf/my.cnf</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">在[mysqld]下添加参数,区分大小写（mysql8必须在初始化时配置）</span></span><br><span class="line">lower_case_table_names=1</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">挂载</span></span><br><span class="line">docker run  -p 3306:3306 --name mysql \</span><br><span class="line">-v /home/mysql/conf/my.cnf:/etc/my.cnf \</span><br><span class="line">-v /home/mysql/data:/var/lib/mysql \</span><br><span class="line">-v /home/mysql/log:/var/log \</span><br><span class="line">-e MYSQL_ROOT_PASSWORD=&quot;root&quot; \</span><br><span class="line">-d mysql</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker安装挂载nginx</title>
      <link href="/2025/06/16/docker/docker%E5%AE%89%E8%A3%85%E6%8C%82%E8%BD%BDnginx/"/>
      <url>/2025/06/16/docker/docker%E5%AE%89%E8%A3%85%E6%8C%82%E8%BD%BDnginx/</url>
      
        <content type="html"><![CDATA[<h3 id="1-安装"><a href="#1-安装" class="headerlink" title="1.安装"></a>1.安装</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull nginx</span><br></pre></td></tr></table></figure><h3 id="2-挂载"><a href="#2-挂载" class="headerlink" title="2.挂载"></a>2.挂载</h3><h4 id="1）复制文件到宿主机"><a href="#1）复制文件到宿主机" class="headerlink" title="1）复制文件到宿主机"></a>1）复制文件到宿主机</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建挂载目录</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /home/nginx/conf</span><br><span class="line"><span class="built_in">mkdir</span> -p /home/nginx/log</span><br><span class="line"><span class="built_in">mkdir</span> -p /home/nginx/html</span><br></pre></td></tr></table></figure><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 生成容器</span></span><br><span class="line">docker run --name nginx -p 9001:80 -d nginx</span><br><span class="line"><span class="comment"># 将容器nginx.conf文件复制到宿主机</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/nginx.conf /home/nginx/conf/nginx.conf</span><br><span class="line"><span class="comment"># 将容器conf.d文件夹下内容复制到宿主机</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/etc/nginx/conf.d /home/nginx/conf/conf.d</span><br><span class="line"><span class="comment"># 将容器中的html文件夹复制到宿主机</span></span><br><span class="line">docker <span class="built_in">cp</span> nginx:/usr/share/nginx/html /home/nginx/</span><br></pre></td></tr></table></figure><h4 id="2-挂载-1"><a href="#2-挂载-1" class="headerlink" title="2)挂载"></a>2)挂载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭该容器</span></span><br><span class="line">docker stop nginx</span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">删除该容器</span></span><br><span class="line">docker rm nginx</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">挂载</span></span><br><span class="line">docker run \</span><br><span class="line">-p 9002:80 \</span><br><span class="line">--name nginx \</span><br><span class="line">-v /home/nginx/conf/nginx.conf:/etc/nginx/nginx.conf \</span><br><span class="line">-v /home/nginx/conf/conf.d:/etc/nginx/conf.d \</span><br><span class="line">-v /home/nginx/log:/var/log/nginx \</span><br><span class="line">-v /home/nginx/html:/usr/share/nginx/html \   #关键挂载，项目路径</span><br><span class="line">-d nginx:latest</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker安装</title>
      <link href="/2025/06/16/docker/%E5%AE%89%E8%A3%85docker/"/>
      <url>/2025/06/16/docker/%E5%AE%89%E8%A3%85docker/</url>
      
        <content type="html"><![CDATA[<h2 id="docker安装"><a href="#docker安装" class="headerlink" title="docker安装"></a>docker安装</h2><p><em>使用环境：CentOS7</em></p><blockquote><p>Docker 要求CentOS系统内核版本高于3.10</p></blockquote><p>命令查看内核版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -r  # 当前版本 3.10.0-1160.el7.x86_64</span><br></pre></td></tr></table></figure><p><a href="https://docs.docker.com/engine/install/centos/">官方文档</a></p><h3 id="一-在线安装"><a href="#一-在线安装" class="headerlink" title="一.在线安装"></a>一.在线安装</h3><h4 id="1-安装所需依赖"><a href="#1-安装所需依赖" class="headerlink" title="1.安装所需依赖"></a>1.安装所需依赖</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install yum-utils</span><br></pre></td></tr></table></figure><h4 id="2-指定-Docker-镜像源，使用阿里云加速"><a href="#2-指定-Docker-镜像源，使用阿里云加速" class="headerlink" title="2. 指定 Docker 镜像源，使用阿里云加速"></a>2. 指定 Docker 镜像源，使用阿里云加速</h4><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span><br></pre></td></tr></table></figure><p>(注：官方存储库地址为 <a href="https://download.docker.com/linux/centos/docker-ce.repo">https://download.docker.com/linux/centos/docker-ce.repo</a>)</p><h4 id="3-安装Docker"><a href="#3-安装Docker" class="headerlink" title="3.安装Docker"></a>3.安装<code>Docker</code></h4><p><code>yum list docker-ce --showduplicates | sort -r</code>可以列出可用版本</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum -y install docker-ce</span><br></pre></td></tr></table></figure><h4 id="6-启动Docker"><a href="#6-启动Docker" class="headerlink" title="6.启动Docker"></a>6.启动<code>Docker</code></h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">docker -v #查看版本</span><br><span class="line">systemctl start docker #启动</span><br><span class="line">systemctl stop docker #停止</span><br><span class="line">systemctl status docker #查看 Docker 状态</span><br><span class="line">systemctl enable docker #开机自动启动</span><br><span class="line"></span><br><span class="line">docker run hello-world</span><br></pre></td></tr></table></figure><p>出现如下错误</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Unable to find image &#x27;hello-world:latest&#x27; locally</span><br><span class="line">docker: Error response from daemon: Get &quot;https://registry-1.docker.io/v2/&quot;: dial tcp 65.49.26.98:443: i/o timeout.</span><br></pre></td></tr></table></figure><p><strong>解决办法</strong></p><p>vi &#x2F;etc&#x2F;docker&#x2F;daemon.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [</span><br><span class="line">        &quot;https://docker.m.daocloud.io&quot;,</span><br><span class="line">        &quot;https://docker.imgdb.de&quot;,</span><br><span class="line">        &quot;https://docker-0.unsee.tech&quot;,</span><br><span class="line">        &quot;https://docker.hlmirror.com&quot;</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>修改完后重启就可以了</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">查看加速器地址</span></span><br><span class="line">docker info | grep -A 10 &quot;Registry Mirrors&quot;</span><br></pre></td></tr></table></figure><h4 id="卸载docker"><a href="#卸载docker" class="headerlink" title="卸载docker"></a>卸载docker</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">1.#停止服务</span><br><span class="line">systemctl stop docker</span><br><span class="line"></span><br><span class="line">2.#删除 Docker 二进制文件</span><br><span class="line">rm -f /usr/bin/docker*</span><br><span class="line">rm -f /usr/bin/containerd*</span><br><span class="line">rm -f /usr/bin/runc</span><br><span class="line"></span><br><span class="line">3.#删除Docker服务文件</span><br><span class="line">rm -f /etc/systemd/system/docker.service</span><br><span class="line">systemctl daemon-reload</span><br><span class="line"></span><br><span class="line">4.#删除 Docker 数据目录</span><br><span class="line">rm -rf /var/lib/docker </span><br><span class="line">rm -rf /data/docker  # 如果您自定义了存储目录</span><br><span class="line"></span><br><span class="line">5.#删除其它Docker 配置文件</span><br><span class="line">rm -rf /etc/docker</span><br><span class="line">rm -rf /etc/systemd/system/docker.service.d</span><br><span class="line">rm -rf /var/run/docker</span><br><span class="line">rm -rf /var/log/docker</span><br><span class="line"></span><br><span class="line">6.#验证卸载是否成功</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">检查是否还有残留的 Docker 文件，如果输出为空或显示未找到命令，说明卸载成功。</span></span><br><span class="line">which docker</span><br><span class="line">docker --version</span><br></pre></td></tr></table></figure><h3 id="二-离线安装"><a href="#二-离线安装" class="headerlink" title="二.离线安装"></a>二.离线安装</h3><h4 id="1-下载"><a href="#1-下载" class="headerlink" title="1.下载"></a>1.下载</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://download.docker.com/linux/static/stable/x86_64/</span><br></pre></td></tr></table></figure><p>或者</p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">wget https://download.docker.com/linux/static/stable/x86_64/docker-20.10.26.tgz</span><br></pre></td></tr></table></figure><h4 id="2-安装"><a href="#2-安装" class="headerlink" title="2.安装"></a>2.安装</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">#</span><span class="language-bash">1.解压</span></span><br><span class="line">tar -xvzf docker-20.10.26.tgz</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">2.移动到系统路径</span></span><br><span class="line">cp docker/* /usr/bin/</span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">3.创建服务文件</span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">为 Docker 创建系统服务文件 /etc/systemd/system/docker.service</span></span><br><span class="line">cat &gt; /etc/systemd/system/docker.service &lt;&lt;EOF</span><br><span class="line">[Unit]</span><br><span class="line">Description=Docker Application Container Engine</span><br><span class="line">Documentation=https://docs.docker.com</span><br><span class="line">After=network-online.target firewalld.service</span><br><span class="line">Wants=network-online.target</span><br><span class="line">[Service]</span><br><span class="line">ExecStart=/usr/bin/dockerd</span><br><span class="line">ExecReload=/bin/kill -s HUP \$MAINPID</span><br><span class="line">TimeoutSec=0</span><br><span class="line">RestartSec=2</span><br><span class="line">Restart=always</span><br><span class="line">LimitNOFILE=infinity</span><br><span class="line">LimitNPROC=infinity</span><br><span class="line">LimitCORE=infinity</span><br><span class="line">[Install]</span><br><span class="line">WantedBy=multi-user.target</span><br><span class="line">EOF</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash">4.启动 Docker 服务</span></span><br><span class="line">systemctl start docker</span><br></pre></td></tr></table></figure><h3 id="docker容器自启"><a href="#docker容器自启" class="headerlink" title="docker容器自启"></a>docker容器自启</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">开启容器自启动</span></span><br><span class="line">docker update --restart=always 【容器名】</span><br><span class="line">例如：docker update --restart=always tracker</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_"># </span><span class="language-bash">关闭容器自启动</span></span><br><span class="line">docker update --restart=no【容器名】</span><br><span class="line">例如：docker update --restart=no tracker</span><br><span class="line"><span class="meta prompt_"></span></span><br><span class="line"><span class="meta prompt_">#</span><span class="language-bash"><span class="comment">#### 相关配置解析</span></span></span><br><span class="line">no：不自动重启容器。（默认）</span><br><span class="line"></span><br><span class="line">on-failure： 如果容器由于错误而退出，则重新启动容器，该错误表现为非零退出代码。</span><br><span class="line"></span><br><span class="line">always：如果容器停止，请务必重启容器。如果手动停止，则仅在Docker守护程序重新启动或手动重新启动容器本身时才重新启动。（参见重启政策详情中列出的第二个项目）</span><br><span class="line"></span><br><span class="line">unless-stopped：类似于always，除了当容器停止（手动或其他方式）时，即使在Docker守护程序重新启动后也不会重新启动容器。</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo 配置Alogolia docsearch搜索</title>
      <link href="/2025/06/11/hexo/hexo%E9%85%8D%E7%BD%AE%E6%90%9C%E7%B4%A2/"/>
      <url>/2025/06/11/hexo/hexo%E9%85%8D%E7%BD%AE%E6%90%9C%E7%B4%A2/</url>
      
        <content type="html"><![CDATA[<h3 id="hexo-配置Alogolia-docsearch搜索"><a href="#hexo-配置Alogolia-docsearch搜索" class="headerlink" title="hexo 配置Alogolia docsearch搜索"></a>hexo 配置Alogolia docsearch搜索</h3><h4 id="1-申请"><a href="#1-申请" class="headerlink" title="1.申请"></a>1.申请</h4><p>网址：<a href="https://docsearch.algolia.com/apply/">https://docsearch.algolia.com/apply/</a></p><p><img src="/../../images/image-20250612153525647.png" alt="image-20250612153525647"></p><p>无需注册，填写信息申请，之后会定时抓取网站信息更新索引</p><h4 id="2-信息"><a href="#2-信息" class="headerlink" title="2.信息"></a>2.信息</h4><pre><code>将邮件内响应信息填入配置</code></pre>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>docker compose安装和使用</title>
      <link href="/2024/12/03/docker/docker%20compose%E4%BD%BF%E7%94%A8/"/>
      <url>/2024/12/03/docker/docker%20compose%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<h3 id="一、docker-compose-安装"><a href="#一、docker-compose-安装" class="headerlink" title="一、docker  compose 安装"></a>一、docker  compose 安装</h3><p>Docker 从 <strong>20.10.0+</strong> 开始内置 <code>docker compose</code> 插件，不用额外下载</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker compose version</span><br></pre></td></tr></table></figure><p>旧版本是独立安装,使用的命令是 <code>docker-compose</code>，如<code>docker-compose --version</code>，插件版的命令是<code>docker compose</code></p><h3 id="二、docker-compose-使用"><a href="#二、docker-compose-使用" class="headerlink" title="二、docker compose 使用"></a>二、docker compose 使用</h3><h4 id="1-docker-compose启动mysql"><a href="#1-docker-compose启动mysql" class="headerlink" title="1.docker compose启动mysql"></a>1.docker compose启动mysql</h4><p>创建<code>docker-compose.yml</code>文件</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;1.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql:</span> <span class="comment"># 服务名称 建议与容器名称一致</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:lastest</span> <span class="comment"># 当前数据库的版本</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span> <span class="comment"># 容器名称</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span> <span class="comment"># 容器随docker启动自启</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_ROOT_PASSWORD=root</span> <span class="comment"># root用户密码</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3306</span><span class="string">:3306</span> <span class="comment"># 指定宿主机端口与容器端口映射关系，宿主机:容器</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">docker-compose up -d  <span class="comment"># 独立安装版</span></span><br><span class="line">docker compose up -d  <span class="comment"># Docker 插件版</span></span><br></pre></td></tr></table></figure><ol><li><strong>up</strong>: 这是 <code>docker-compose</code> 命令的一个子命令，用于根据 <code>docker-compose.yml</code> 文件中的定义创建并启动容器。如果服务使用的镜像不存在，<code>docker-compose up</code> 还会尝试构建这些镜像（如果 <code>docker-compose.yml</code> 文件中包含构建指令的话）。</li><li><strong>-d</strong>: 这个标志告诉 Docker Compose 以“分离模式”（detached mode）运行服务。这意味着容器将在后台运行，并且命令会立即返回，而不会等待容器停止。</li></ol><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">docker-compose</span> <span class="string">stop</span> <span class="string">mysql</span>  <span class="comment"># 停止指定服务容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">restart</span> <span class="string">mysql</span>  <span class="comment"># 重启指定服务容器</span></span><br><span class="line"><span class="string">docker-compose</span> <span class="string">down</span> <span class="comment"># 关闭应用，移除容器</span></span><br></pre></td></tr></table></figure><h4 id="2-启动多个容器"><a href="#2-启动多个容器" class="headerlink" title="2.启动多个容器"></a>2.启动多个容器</h4><p>只需要后面继续添加相应配置</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">&#x27;1.0&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line">  <span class="attr">mysql01:</span> <span class="comment"># 服务名称 建议与容器名称一致</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">mysql:8.0.33</span> <span class="comment"># 当前数据库的版本</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">mysql</span> <span class="comment"># 容器名称</span></span><br><span class="line">    <span class="attr">restart:</span> <span class="string">always</span> <span class="comment"># 容器随docker启动自启</span></span><br><span class="line">    <span class="attr">environment:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">MYSQL_ROOT_PASSWORD=root</span> <span class="comment"># root用户密码</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">3306</span><span class="string">:3306</span> <span class="comment"># 指定宿主机端口与容器端口映射关系，宿主机:容器</span></span><br><span class="line">   </span><br><span class="line">  <span class="attr">nginx:</span></span><br><span class="line">    <span class="attr">image:</span> <span class="string">nginx:1.22.0</span></span><br><span class="line">    <span class="attr">container_name:</span> <span class="string">nginx</span></span><br><span class="line">    <span class="attr">ports:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="number">80</span><span class="string">:80</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>命令对比</strong></p><table><thead><tr><th>命令</th><th>停止容器</th><th>移除容器</th><th>删除数据卷</th><th>适用场景</th></tr></thead><tbody><tr><td><code>docker-compose stop</code></td><td>✔️</td><td>❌</td><td>❌</td><td>临时暂停服务</td></tr><tr><td><code>docker-compose down</code></td><td>✔️</td><td>✔️</td><td>❌</td><td>常规关闭（推荐）</td></tr><tr><td><code>docker-compose down -v</code></td><td>✔️</td><td>✔️</td><td>✔️</td><td>彻底清理环境</td></tr><tr><td><code>docker-compose kill</code></td><td>✔️（强制）</td><td>❌</td><td>❌</td><td>紧急终止</td></tr></tbody></table>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux和windows文件增量同步：Rsync使用</title>
      <link href="/2024/07/15/linux/Linux%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/"/>
      <url>/2024/07/15/linux/Linux%E5%AE%9A%E6%97%B6%E5%A4%87%E4%BB%BD/</url>
      
        <content type="html"><![CDATA[<p>需要将linux文件夹下的文件增量备份到win下</p><h3 id="1-服务器信息"><a href="#1-服务器信息" class="headerlink" title="1.服务器信息"></a>1.服务器信息</h3>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Linux 服务器之间传输文件</title>
      <link href="/2024/07/15/linux/Linux%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/"/>
      <url>/2024/07/15/linux/Linux%20%E6%9C%8D%E5%8A%A1%E5%99%A8%E4%B9%8B%E9%97%B4%E4%BC%A0%E8%BE%93%E6%96%87%E4%BB%B6/</url>
      
        <content type="html"><![CDATA[<p><strong>两台linux服务器传输文件</strong></p><p>scp命令</p><h3 id="1-服务器复制文件到本地"><a href="#1-服务器复制文件到本地" class="headerlink" title="1.服务器复制文件到本地"></a>1.服务器复制文件到本地</h3><p>scp <a href="mailto:&#114;&#x6f;&#111;&#116;&#x40;&#49;&#57;&#50;&#46;&#49;&#x36;&#56;&#46;&#49;&#x2e;&#49;&#48;&#48;">&#114;&#x6f;&#111;&#116;&#x40;&#49;&#57;&#50;&#46;&#49;&#x36;&#56;&#46;&#49;&#x2e;&#49;&#48;&#48;</a>:&#x2F;data&#x2F;test.txt &#x2F;home&#x2F;</p><p> root是目标服务器（有你需要拷贝文件的服务器）的用户名</p><p>路径1: &#x2F;data&#x2F;test.txt 是目标服务器中你要拷贝文件的地址，接一个空格。</p><p>路径2:  &#x2F;home&#x2F;myfile&#x2F; 是本地接收文件的地址。后边可以接文件名进行重命名</p><p>scp -r <a href="mailto:&#x72;&#x6f;&#x6f;&#x74;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#x36;&#56;&#x2e;&#x31;&#46;&#x31;&#48;&#48;">&#x72;&#x6f;&#x6f;&#x74;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#x36;&#56;&#x2e;&#x31;&#46;&#x31;&#48;&#48;</a>:&#x2F;data&#x2F; &#x2F;home&#x2F; 前面加 -r 可以复制整个文件夹</p><h3 id="2-从本地复制到服务器"><a href="#2-从本地复制到服务器" class="headerlink" title="2.从本地复制到服务器"></a>2.从本地复制到服务器</h3><p>scp &#x2F;home&#x2F;myfile&#x2F;* <a href="mailto:&#x72;&#111;&#111;&#116;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#54;&#56;&#x2e;&#49;&#46;&#x31;&#48;&#x30;">&#x72;&#111;&#111;&#116;&#x40;&#x31;&#x39;&#x32;&#46;&#49;&#54;&#56;&#x2e;&#49;&#46;&#x31;&#48;&#x30;</a>:&#x2F;data&#x2F;</p>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>centos安装字体</title>
      <link href="/2024/07/15/linux/centos%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93/"/>
      <url>/2024/07/15/linux/centos%E5%AE%89%E8%A3%85%E5%AD%97%E4%BD%93/</url>
      
        <content type="html"><![CDATA[<h3 id="1-安装字体"><a href="#1-安装字体" class="headerlink" title="1.安装字体"></a>1.安装字体</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#安装</span><br><span class="line">yum install fontconfig</span><br></pre></td></tr></table></figure><h3 id="2-命令"><a href="#2-命令" class="headerlink" title="2.命令"></a>2.命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#列表查看</span><br><span class="line">fc-list</span><br><span class="line">#缓存刷新</span><br><span class="line">fc-cache -fv</span><br></pre></td></tr></table></figure>]]></content>
      
      
      
        <tags>
            
            <tag> Linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo自动化部署</title>
      <link href="/2024/07/12/hexo/hexo%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/"/>
      <url>/2024/07/12/hexo/hexo%E8%87%AA%E5%8A%A8%E5%8C%96%E9%83%A8%E7%BD%B2/</url>
      
        <content type="html"><![CDATA[<p>前面我们通过<code>hexo d</code>只是将生成的静态文件推送到我们指定的分支，但是我们的源码该如何管理。</p><h3 id="1-在github仓库创建新分支source（分支名自定义）"><a href="#1-在github仓库创建新分支source（分支名自定义）" class="headerlink" title="1.在github仓库创建新分支source（分支名自定义）"></a>1.在github仓库创建新分支source（分支名自定义）</h3><p>新分支来源于之前的main分支，会有之前的文件代码。我们主要是想在这个分支管理源码</p><p>在setting里将默认分支切换成新建的分支source,这样我们git clone 时拉取的就是源码了。</p><h3 id="2-将本地hexo目录与远程仓库关联"><a href="#2-将本地hexo目录与远程仓库关联" class="headerlink" title="2.将本地hexo目录与远程仓库关联"></a>2.将本地hexo目录与远程仓库关联</h3><p>1)git init</p><p>如果要取消初始化，直接删除.git文件夹</p><p>2)添加远程地址，使用ssh方式。</p><p>使用https方式后续push时需要验证用户名密码，git已不支持这种方式验证。如果已添加远程库，可以用</p><p><code>git remote rm origin</code> 去除远程库。</p><p><code>git remote add origin git@github.com:smallmayi/smallmayi.github.io.git</code></p><p>3)添加<code>.gitignore</code>文件，只保留源码，其他不推送</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">`.DS_STORE`</span><br><span class="line">`db.json`</span><br><span class="line">`*.log</span><br><span class="line">node_modules/</span><br><span class="line">public/</span><br><span class="line">.deploy*/`</span><br></pre></td></tr></table></figure><p>3)git add .<br>4)提交远程source分支</p><p>git push origin source</p><p>提交失败，因为之前远程的souce分支是我们直接从main分支复制的，和我们现在要提交的差异过大(因为我们不是拉取远程进行修改的，我们也不需要pull)，强制推送</p><p><code>git push origin source --force</code></p><p>5）查看仓库</p><p><img src="/../images/image-20240619165050143.png" alt="image-20240619165050143"></p><p>可以看到已成功提交，且已经忽略生成的public文件夹。</p><p>2.使用git action</p><p>上面我们提交了源码和页面，但是每次写了文章我们需要手动hexo d 推送生成的页面，使用git action自动执行实现我们推送源码后自动执行生成页面。</p><p>1.生成个人token</p><p><a href="https://github.com/settings/tokens">https://github.com/settings/tokens</a></p><p><img src="/../images/image-20240621164611994.png" alt="image-20240621164611994"></p><p>选择不过期，勾选repo和workflow</p><p>生成的token记得复制保存下来，只能看这一次。</p><p>2）添加自定义token</p><p><img src="/../images/image-20240711154004113.png" alt="image-20240711154004113"></p><p>在setting下添加一个自定义secret,名称自定义，内容为之前的token。</p><p>3）去Github的自己仓库点击Actions，新建一个workflow工作流。</p><p>里面的依赖等根据情况配置</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">Hexo</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line"></span><br><span class="line"><span class="attr">on:</span></span><br><span class="line">  <span class="attr">push:</span></span><br><span class="line">    <span class="attr">branches:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="string">source</span></span><br><span class="line"></span><br><span class="line"><span class="attr">jobs:</span></span><br><span class="line">  <span class="attr">build:</span></span><br><span class="line">    <span class="attr">runs-on:</span> <span class="string">ubuntu-latest</span></span><br><span class="line"></span><br><span class="line">    <span class="attr">steps:</span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Checkout</span> <span class="string">repository</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/checkout@v3</span>  <span class="comment"># 使用 v3 版本</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">submodules:</span> <span class="literal">false</span></span><br><span class="line">          <span class="attr">fetch-depth:</span> <span class="number">0</span>  <span class="comment"># 获取完整 Git 历史</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Setup</span> <span class="string">Node.js</span></span><br><span class="line">        <span class="attr">uses:</span> <span class="string">actions/setup-node@v3</span></span><br><span class="line">        <span class="attr">with:</span></span><br><span class="line">          <span class="attr">node-version:</span> <span class="string">&#x27;18&#x27;</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Dependencies</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">npm</span> <span class="string">install</span></span><br><span class="line"></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Install</span> <span class="string">Hexo</span> <span class="string">Git</span> <span class="string">Deployer</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          npm install hexo-deployer-git --save</span></span><br><span class="line"><span class="string">          npm install hexo-cli -g</span></span><br><span class="line"><span class="string">          npm install hexo-renderer-pug hexo-renderer-stylus --save</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Clean</span> <span class="string">and</span> <span class="string">Generate</span> <span class="string">Static</span> <span class="string">Files</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          hexo clean</span></span><br><span class="line"><span class="string">          hexo generate</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Configure</span> <span class="string">Git</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          git config --global user.name &#x27;smallmayi&#x27;</span></span><br><span class="line"><span class="string">          git config --global user.email &#x27;1591698916@qq.com&#x27;</span></span><br><span class="line"><span class="string"></span></span><br><span class="line">      <span class="bullet">-</span> <span class="attr">name:</span> <span class="string">Deploy</span> <span class="string">to</span> <span class="string">GitHub</span> <span class="string">Pages</span></span><br><span class="line">        <span class="attr">env:</span></span><br><span class="line">          <span class="attr">GH_TOKEN:</span> <span class="string">$&#123;&#123;</span> <span class="string">secrets.BLOGAUTO</span> <span class="string">&#125;&#125;</span></span><br><span class="line">        <span class="attr">run:</span> <span class="string">|</span></span><br><span class="line"><span class="string">          cd public</span></span><br><span class="line"><span class="string">          git init</span></span><br><span class="line"><span class="string">          git checkout -b main  # 明确切换到 main 分支</span></span><br><span class="line"><span class="string">          git add -A</span></span><br><span class="line"><span class="string">          git commit -m &quot;update by workflows&quot;</span></span><br><span class="line"><span class="string">          git remote add origin https://$&#123;&#123; secrets.BLOGAUTO &#125;&#125;@github.com/smallmayi/smallmayi.github.io.git</span></span><br><span class="line"><span class="string">          git push -u origin main -f</span></span><br></pre></td></tr></table></figure><p>现在就配置好了，后续只需要在<code>_post</code>添加文章上传就行，会自动部署生成文件。</p>]]></content>
      
      
      <categories>
          
          <category> blog </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>油猴脚本编写和发布</title>
      <link href="/2024/07/12/%E8%84%9A%E6%9C%AC/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E5%92%8C%E5%8F%91%E5%B8%83/"/>
      <url>/2024/07/12/%E8%84%9A%E6%9C%AC/%E6%B2%B9%E7%8C%B4%E8%84%9A%E6%9C%AC%E7%BC%96%E5%86%99%E5%92%8C%E5%8F%91%E5%B8%83/</url>
      
        <content type="html"><![CDATA[<h3 id="1-编写"><a href="#1-编写" class="headerlink" title="1.编写"></a>1.编写</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name    屏蔽b站直播的游戏和礼物元素</span></span><br><span class="line"><span class="comment">// @include https://live.bilibili.com/*</span></span><br><span class="line"><span class="comment">// @version 1.0</span></span><br><span class="line"><span class="comment">// @grant   none</span></span><br><span class="line"><span class="comment">// @license MIT</span></span><br><span class="line"><span class="comment">// @description 屏蔽元素</span></span><br><span class="line"><span class="comment">// @namespace https://greasyfork.org/users/1331571</span></span><br><span class="line"><span class="comment">// @downloadURL https://update.greasyfork.org/scripts/500248/%E5%B1%8F%E8%94%BDb%E7%AB%99%E7%9B%B4%E6%92%AD%E7%9A%84%E6%B8%B8%E6%88%8F%E5%92%8C%E7%A4%BC%E7%89%A9%E5%85%83%E7%B4%A0.user.js</span></span><br><span class="line"><span class="comment">// @updateURL https://update.greasyfork.org/scripts/500248/%E5%B1%8F%E8%94%BDb%E7%AB%99%E7%9B%B4%E6%92%AD%E7%9A%84%E6%B8%B8%E6%88%8F%E5%92%8C%E7%A4%BC%E7%89%A9%E5%85%83%E7%B4%A0.meta.js</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ==UserScript==</span></span><br><span class="line"><span class="comment">// @name    屏蔽b站直播的游戏和礼物元素</span></span><br><span class="line"><span class="comment">// @include https://live.bilibili.com/*</span></span><br><span class="line"><span class="comment">// @version 1.0</span></span><br><span class="line"><span class="comment">// @grant   none</span></span><br><span class="line"><span class="comment">// @license MIT</span></span><br><span class="line"><span class="comment">// @description 屏蔽元素</span></span><br><span class="line"><span class="comment">// @namespace https://greasyfork.org/users/1331571</span></span><br><span class="line"><span class="comment">// @downloadURL https://update.greasyfork.org/scripts/500248/%E5%B1%8F%E8%94%BDb%E7%AB%99%E7%9B%B4%E6%92%AD%E7%9A%84%E6%B8%B8%E6%88%8F%E5%92%8C%E7%A4%BC%E7%89%A9%E5%85%83%E7%B4%A0.user.js</span></span><br><span class="line"><span class="comment">// @updateURL https://update.greasyfork.org/scripts/500248/%E5%B1%8F%E8%94%BDb%E7%AB%99%E7%9B%B4%E6%92%AD%E7%9A%84%E6%B8%B8%E6%88%8F%E5%92%8C%E7%A4%BC%E7%89%A9%E5%85%83%E7%B4%A0.meta.js</span></span><br><span class="line"><span class="comment">// ==/UserScript==</span></span><br><span class="line"></span><br><span class="line">(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> elementToHide = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;#game-id&#x27;</span>); <span class="comment">// 替换为需要隐藏的元素的选择器</span></span><br><span class="line">    <span class="keyword">if</span> (elementToHide) &#123;</span><br><span class="line">        elementToHide.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// 获取所有匹配的元素</span></span><br><span class="line"><span class="keyword">var</span> elements = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">&#x27;.gift-panel.base-panel.live-skin-coloration-area.gift-corner-mark-ui&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 遍历并删除每个元素</span></span><br><span class="line">elements.<span class="title function_">forEach</span>(<span class="keyword">function</span>(<span class="params">element</span>) &#123;</span><br><span class="line">    element.<span class="property">parentNode</span>.<span class="title function_">removeChild</span>(element);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;)();</span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="2-发布"><a href="#2-发布" class="headerlink" title="2.发布"></a>2.发布</h3><p>需要在 Greasy Fork 建立一个账号才能提交脚本。</p><p><a href="https://greasyfork.org/zh-CN/users/sign_in">https://greasyfork.org/zh-CN/users/sign_in</a></p><p>发布时需要在前面加上<code>@license</code>,<code>@description</code>,不然不给发布</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// @license MIT</span><br><span class="line">// @description 屏蔽元素</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 脚本 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>手机安装面具</title>
      <link href="/2024/07/12/miui/%E6%89%8B%E6%9C%BA%E5%AE%89%E8%A3%85%E9%9D%A2%E5%85%B7/"/>
      <url>/2024/07/12/miui/%E6%89%8B%E6%9C%BA%E5%AE%89%E8%A3%85%E9%9D%A2%E5%85%B7/</url>
      
        <content type="html"><![CDATA[<p>1.解锁</p><p>略</p><p>2.下载手机当前系统rom包</p><p>下载地址 <a href="https://xiaomirom.com/">小米rom</a></p><p>找到手机系统相同的包下载，切换一个速度快的节点</p><p>解压后有个boot.img文件，放到手机的download文件夹下</p><p>3.下载面具</p><p><a href="https://magiskcn.com/">面具网址</a></p><p>手机安装后用面具去修补boot.img文件</p>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 面具 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>utools5.0破解教程</title>
      <link href="/2024/07/12/tools/utools%E7%A0%B4%E8%A7%A3/"/>
      <url>/2024/07/12/tools/utools%E7%A0%B4%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<p>1.破解包（适用于5.x）</p><p>包含<code>utools5.1.0</code>和破解包<code>app.asar</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://www.123pan.com/s/Fj3aTd-8KIUh.html?提取码:sJrM</span><br></pre></td></tr></table></figure><p>替换c盘 <code>C:\Users\用户名\AppData\Local\Programs\utools\resources</code>下的相应文件<code>app.asar</code></p><p>2.禁止自动更新</p><p>修改<code>C:\Users\用户名\AppData\Local\Programs\utools\resources</code>下的<code>app-update.yml</code>文件</p><p>可以将原<code>url</code>修改为<code>www.baidu.com</code></p>]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> utools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>米游社自动签到</title>
      <link href="/2024/07/12/%E8%84%9A%E6%9C%AC/%E7%B1%B3%E6%B8%B8%E7%A4%BE%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0/"/>
      <url>/2024/07/12/%E8%84%9A%E6%9C%AC/%E7%B1%B3%E6%B8%B8%E7%A4%BE%E8%87%AA%E5%8A%A8%E7%AD%BE%E5%88%B0/</url>
      
        <content type="html"><![CDATA[<h2 id="1-git项目地址"><a href="#1-git项目地址" class="headerlink" title="1.git项目地址"></a>1.git项目地址</h2><pre><code>地址：https://github.com/Womsxd/MihoyoBBSTools</code></pre><h2 id="2-使用"><a href="#2-使用" class="headerlink" title="2.使用"></a>2.使用</h2><p>按照教程获取到<code>cookie</code>和<code>satoken</code>填入到<code>config.yaml</code>配置文件即可</p>]]></content>
      
      
      <categories>
          
          <category> 自动化 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 签到 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>天翼云盘签到脚本</title>
      <link href="/2024/07/12/%E8%84%9A%E6%9C%AC/%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98%E7%AD%BE%E5%88%B0%E8%84%9A%E6%9C%AC/"/>
      <url>/2024/07/12/%E8%84%9A%E6%9C%AC/%E5%A4%A9%E7%BF%BC%E4%BA%91%E7%9B%98%E7%AD%BE%E5%88%B0%E8%84%9A%E6%9C%AC/</url>
      
        <content type="html"><![CDATA[<h3 id="1-脚本"><a href="#1-脚本" class="headerlink" title="1.脚本"></a>1.脚本</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">https://www.52pojie.cn/thread-1231190-1-1.html</span></span><br><span class="line"><span class="string"> </span></span><br><span class="line"><span class="string">感谢作者开源天翼云签到部分源码：</span></span><br><span class="line"><span class="string">https://github.com/t00t00-crypto/cloud189-action/blob/master/checkin.py 及 [login_function.py](https://github.com/Dawnnnnnn/Cloud189/blob/master/functions/login_function.py)</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="keyword">import</span> base64</span><br><span class="line"><span class="keyword">import</span> hashlib</span><br><span class="line"><span class="comment"># from urllib import parse</span></span><br><span class="line"><span class="keyword">import</span> urllib.parse,hmac</span><br><span class="line"><span class="keyword">import</span> rsa</span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"> </span><br><span class="line">BI_RM = <span class="built_in">list</span>(<span class="string">&quot;0123456789abcdefghijklmnopqrstuvwxyz&quot;</span>)</span><br><span class="line"> </span><br><span class="line">B64MAP = <span class="string">&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&quot;</span></span><br><span class="line"> </span><br><span class="line">s = requests.Session()</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 在下面两行的引号内贴上账号（仅支持手机号）和密码</span></span><br><span class="line">username = <span class="string">&quot;&quot;</span></span><br><span class="line">password = <span class="string">&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line">_ = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">if(username == &quot;&quot; or password == &quot;&quot;):</span></span><br><span class="line"><span class="string">    username = input(&quot;账号：&quot;)</span></span><br><span class="line"><span class="string">    password = input(&quot;密码：&quot;)</span></span><br><span class="line"><span class="string"># &quot;&quot;&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">assert</span> username <span class="keyword">and</span> password, <span class="string">&quot;在第23、24行填入有效账号和密码&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 钉钉机器人token 申请key 并设置密钥</span></span><br><span class="line">ddtoken = <span class="string">&quot;&quot;</span></span><br><span class="line">ddsecret = <span class="string">&quot;&quot;</span></span><br><span class="line"><span class="comment"># xuthuskey = &quot;27a...........................7b&quot;</span></span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> ddtoken:</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&quot;第36行的ddtoken 为空，签到结果将不会通过钉钉发送&quot;</span>)</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">int2char</span>(<span class="params">a</span>):</span><br><span class="line">    <span class="keyword">return</span> BI_RM[a]</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">b64tohex</span>(<span class="params">a</span>):</span><br><span class="line">    d = <span class="string">&quot;&quot;</span></span><br><span class="line">    e = <span class="number">0</span></span><br><span class="line">    c = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)):</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">list</span>(a)[i] != <span class="string">&quot;=&quot;</span>:</span><br><span class="line">            v = B64MAP.index(<span class="built_in">list</span>(a)[i])</span><br><span class="line">            <span class="keyword">if</span> <span class="number">0</span> == e:</span><br><span class="line">                e = <span class="number">1</span></span><br><span class="line">                d += int2char(v &gt;&gt; <span class="number">2</span>)</span><br><span class="line">                c = <span class="number">3</span> &amp; v</span><br><span class="line">            <span class="keyword">elif</span> <span class="number">1</span> == e:</span><br><span class="line">                e = <span class="number">2</span></span><br><span class="line">                d += int2char(c &lt;&lt; <span class="number">2</span> | v &gt;&gt; <span class="number">4</span>)</span><br><span class="line">                c = <span class="number">15</span> &amp; v</span><br><span class="line">            <span class="keyword">elif</span> <span class="number">2</span> == e:</span><br><span class="line">                e = <span class="number">3</span></span><br><span class="line">                d += int2char(c)</span><br><span class="line">                d += int2char(v &gt;&gt; <span class="number">2</span>)</span><br><span class="line">                c = <span class="number">3</span> &amp; v</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                e = <span class="number">0</span></span><br><span class="line">                d += int2char(c &lt;&lt; <span class="number">2</span> | v &gt;&gt; <span class="number">4</span>)</span><br><span class="line">                d += int2char(<span class="number">15</span> &amp; v)</span><br><span class="line">    <span class="keyword">if</span> e == <span class="number">1</span>:</span><br><span class="line">        d += int2char(c &lt;&lt; <span class="number">2</span>)</span><br><span class="line">    <span class="keyword">return</span> d</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">rsa_encode</span>(<span class="params">j_rsakey, string</span>):</span><br><span class="line">    rsa_key = <span class="string">f&quot;-----BEGIN PUBLIC KEY-----\n<span class="subst">&#123;j_rsakey&#125;</span>\n-----END PUBLIC KEY-----&quot;</span></span><br><span class="line">    pubkey = rsa.PublicKey.load_pkcs1_openssl_pem(rsa_key.encode())</span><br><span class="line">    result = b64tohex((base64.b64encode(rsa.encrypt(<span class="string">f&#x27;<span class="subst">&#123;string&#125;</span>&#x27;</span>.encode(), pubkey))).decode())</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">calculate_md5_sign</span>(<span class="params">params</span>):</span><br><span class="line">    <span class="keyword">return</span> hashlib.md5(<span class="string">&#x27;&amp;&#x27;</span>.join(<span class="built_in">sorted</span>(params.split(<span class="string">&#x27;&amp;&#x27;</span>))).encode(<span class="string">&#x27;utf-8&#x27;</span>)).hexdigest()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">login</span>(<span class="params">username, password</span>):</span><br><span class="line">    <span class="comment">#https://m.cloud.189.cn/login2014.jsp?redirectURL=https://m.cloud.189.cn/zhuanti/2021/shakeLottery/index.html</span></span><br><span class="line">    url=<span class="string">&quot;&quot;</span></span><br><span class="line">    urlToken=<span class="string">&quot;https://m.cloud.189.cn/udb/udb_login.jsp?pageId=1&amp;pageKey=default&amp;clientType=wap&amp;redirectURL=https://m.cloud.189.cn/zhuanti/2021/shakeLottery/index.html&quot;</span></span><br><span class="line">    s = requests.Session()</span><br><span class="line">    r = s.get(urlToken)</span><br><span class="line">    pattern = <span class="string">r&quot;https?://[^\s&#x27;\&quot;]+&quot;</span>  <span class="comment"># 匹配以http或https开头的url</span></span><br><span class="line">    <span class="keyword">match</span> = re.search(pattern, r.text)  <span class="comment"># 在文本中搜索匹配</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">match</span>:  <span class="comment"># 如果找到匹配</span></span><br><span class="line">        url = <span class="keyword">match</span>.group()  <span class="comment"># 获取匹配的字符串</span></span><br><span class="line">        <span class="built_in">print</span>(url)  <span class="comment"># 打印url</span></span><br><span class="line">    <span class="keyword">else</span>:  <span class="comment"># 如果没有找到匹配</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;没有找到url&quot;</span>)</span><br><span class="line"> </span><br><span class="line">    r = s.get(url)</span><br><span class="line">    <span class="comment"># print(r.text)</span></span><br><span class="line">    pattern = <span class="string">r&quot;&lt;a id=\&quot;j-tab-login-link\&quot;[^&gt;]*href=\&quot;([^\&quot;]+)\&quot;&quot;</span>  <span class="comment"># 匹配id为j-tab-login-link的a标签，并捕获href引号内的内容</span></span><br><span class="line">    <span class="keyword">match</span> = re.search(pattern, r.text)  <span class="comment"># 在文本中搜索匹配</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">match</span>:  <span class="comment"># 如果找到匹配</span></span><br><span class="line">        href = <span class="keyword">match</span>.group(<span class="number">1</span>)  <span class="comment"># 获取捕获的内容</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;href:&quot;</span> + href)  <span class="comment"># 打印href链接</span></span><br><span class="line">    <span class="keyword">else</span>:  <span class="comment"># 如果没有找到匹配</span></span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;没有找到href链接&quot;</span>)</span><br><span class="line"> </span><br><span class="line">    r = s.get(href)</span><br><span class="line">    captchaToken = re.findall(<span class="string">r&quot;captchaToken&#x27; value=&#x27;(.+?)&#x27;&quot;</span>, r.text)[<span class="number">0</span>]</span><br><span class="line">    lt = re.findall(<span class="string">r&#x27;lt = &quot;(.+?)&quot;&#x27;</span>, r.text)[<span class="number">0</span>]</span><br><span class="line">    returnUrl = re.findall(<span class="string">r&quot;returnUrl= &#x27;(.+?)&#x27;&quot;</span>, r.text)[<span class="number">0</span>]</span><br><span class="line">    paramId = re.findall(<span class="string">r&#x27;paramId = &quot;(.+?)&quot;&#x27;</span>, r.text)[<span class="number">0</span>]</span><br><span class="line">    j_rsakey = re.findall(<span class="string">r&#x27;j_rsaKey&quot; value=&quot;(\S+)&quot;&#x27;</span>, r.text, re.M)[<span class="number">0</span>]</span><br><span class="line">    s.headers.update(&#123;<span class="string">&quot;lt&quot;</span>: lt&#125;)</span><br><span class="line"> </span><br><span class="line">    username = rsa_encode(j_rsakey, username)</span><br><span class="line">    password = rsa_encode(j_rsakey, password)</span><br><span class="line">    url = <span class="string">&quot;https://open.e.189.cn/api/logbox/oauth2/loginSubmit.do&quot;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:74.0) Gecko/20100101 Firefox/76.0&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Referer&#x27;</span>: <span class="string">&#x27;https://open.e.189.cn/&#x27;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    data = &#123;</span><br><span class="line">        <span class="string">&quot;appKey&quot;</span>: <span class="string">&quot;cloud&quot;</span>,</span><br><span class="line">        <span class="string">&quot;accountType&quot;</span>: <span class="string">&#x27;01&#x27;</span>,</span><br><span class="line">        <span class="string">&quot;userName&quot;</span>: <span class="string">f&quot;&#123;&#123;RSA&#125;&#125;<span class="subst">&#123;username&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;password&quot;</span>: <span class="string">f&quot;&#123;&#123;RSA&#125;&#125;<span class="subst">&#123;password&#125;</span>&quot;</span>,</span><br><span class="line">        <span class="string">&quot;validateCode&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;captchaToken&quot;</span>: captchaToken,</span><br><span class="line">        <span class="string">&quot;returnUrl&quot;</span>: returnUrl,</span><br><span class="line">        <span class="string">&quot;mailSuffix&quot;</span>: <span class="string">&quot;@189.cn&quot;</span>,</span><br><span class="line">        <span class="string">&quot;paramId&quot;</span>: paramId</span><br><span class="line">    &#125;</span><br><span class="line">    r = s.post(url, data=data, headers=headers, timeout=<span class="number">5</span>)</span><br><span class="line">    <span class="keyword">if</span> (r.json()[<span class="string">&#x27;result&#x27;</span>] == <span class="number">0</span>):</span><br><span class="line">        <span class="built_in">print</span>(r.json()[<span class="string">&#x27;msg&#x27;</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(r.json()[<span class="string">&#x27;msg&#x27;</span>])</span><br><span class="line">    redirect_url = r.json()[<span class="string">&#x27;toUrl&#x27;</span>]</span><br><span class="line">    r = s.get(redirect_url)</span><br><span class="line">    <span class="keyword">return</span> s</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main</span>():</span><br><span class="line">    s=login(username, password)</span><br><span class="line">    rand = <span class="built_in">str</span>(<span class="built_in">round</span>(time.time() * <span class="number">1000</span>))</span><br><span class="line">    surl = <span class="string">f&#x27;https://api.cloud.189.cn/mkt/userSign.action?rand=<span class="subst">&#123;rand&#125;</span>&amp;clientType=TELEANDROID&amp;version=8.6.3&amp;model=SM-G930K&#x27;</span></span><br><span class="line">    url = <span class="string">f&#x27;https://m.cloud.189.cn/v2/drawPrizeMarketDetails.action?taskId=TASK_SIGNIN&amp;activityId=ACT_SIGNIN&#x27;</span></span><br><span class="line">    url2 = <span class="string">f&#x27;https://m.cloud.189.cn/v2/drawPrizeMarketDetails.action?taskId=TASK_SIGNIN_PHOTOS&amp;activityId=ACT_SIGNIN&#x27;</span></span><br><span class="line">    url3 = <span class="string">f&#x27;https://m.cloud.189.cn/v2/drawPrizeMarketDetails.action?taskId=TASK_2022_FLDFS_KJ&amp;activityId=ACT_SIGNIN&#x27;</span></span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6&#x27;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Host&quot;</span>: <span class="string">&quot;m.cloud.189.cn&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Accept-Encoding&quot;</span>: <span class="string">&quot;gzip, deflate&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    response = s.get(surl, headers=headers)</span><br><span class="line">    netdiskBonus = response.json()[<span class="string">&#x27;netdiskBonus&#x27;</span>]</span><br><span class="line">    <span class="keyword">if</span> (response.json()[<span class="string">&#x27;isSign&#x27;</span>] == <span class="string">&quot;false&quot;</span>):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;未签到，签到获得<span class="subst">&#123;netdiskBonus&#125;</span>M空间&quot;</span>)</span><br><span class="line">        res1 = <span class="string">f&quot;未签到，签到获得<span class="subst">&#123;netdiskBonus&#125;</span>M空间&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;已经签到过了，签到获得<span class="subst">&#123;netdiskBonus&#125;</span>M空间&quot;</span>)</span><br><span class="line">        res1 = <span class="string">f&quot;已经签到过了，签到获得<span class="subst">&#123;netdiskBonus&#125;</span>M空间&quot;</span></span><br><span class="line"> </span><br><span class="line">    headers = &#123;</span><br><span class="line">        <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Linux; Android 5.1.1; SM-G930K Build/NRD90M; wv) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/74.0.3729.136 Mobile Safari/537.36 Ecloud/8.6.3 Android/22 clientId/355325117317828 clientModel/SM-G930K imsi/460071114317824 clientChannelId/qq proVersion/1.0.6&#x27;</span>,</span><br><span class="line">        <span class="string">&quot;Referer&quot;</span>: <span class="string">&quot;https://m.cloud.189.cn/zhuanti/2016/sign/index.jsp?albumBackupOpened=1&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Host&quot;</span>: <span class="string">&quot;m.cloud.189.cn&quot;</span>,</span><br><span class="line">        <span class="string">&quot;Accept-Encoding&quot;</span>: <span class="string">&quot;gzip, deflate&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">    response = s.get(url, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;errorCode&quot;</span> <span class="keyword">in</span> response.text):</span><br><span class="line">        <span class="built_in">print</span>(response.text)</span><br><span class="line">        res2 = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        description = response.json()[<span class="string">&#x27;description&#x27;</span>]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span>)</span><br><span class="line">        res2 = <span class="string">f&quot;抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span></span><br><span class="line"> </span><br><span class="line">    time.sleep(random.randint(<span class="number">5</span>, <span class="number">10</span>))</span><br><span class="line">    response = s.get(url2, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;errorCode&quot;</span> <span class="keyword">in</span> response.text):</span><br><span class="line">        <span class="built_in">print</span>(response.text)</span><br><span class="line">        res3 = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        description = response.json()[<span class="string">&#x27;prizeName&#x27;</span>]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span>)</span><br><span class="line">        res3 = <span class="string">f&quot;抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span></span><br><span class="line"> </span><br><span class="line">    time.sleep(random.randint(<span class="number">5</span>, <span class="number">10</span>))</span><br><span class="line">    response = s.get(url3, headers=headers)</span><br><span class="line">    <span class="keyword">if</span> (<span class="string">&quot;errorCode&quot;</span> <span class="keyword">in</span> response.text):</span><br><span class="line">        <span class="built_in">print</span>(response.text)</span><br><span class="line">        res4 = <span class="string">&quot;&quot;</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        description = response.json()[<span class="string">&#x27;prizeName&#x27;</span>]</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">f&quot;链接3抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span>)</span><br><span class="line">        res4 = <span class="string">f&quot;链接3抽奖获得<span class="subst">&#123;description&#125;</span>&quot;</span></span><br><span class="line">    <span class="keyword">if</span> ddtoken.strip():</span><br><span class="line">        _ = ddtoken.strip()</span><br><span class="line">        <span class="comment"># requests.get(f&quot;https://push.xuthus.cc/send/&#123;_&#125;?c=func compute: &#123;res1&#125;, &#123;res2&#125;, &#123;res3&#125;&quot;)</span></span><br><span class="line">        <span class="comment"># data = &#123;&quot;msgtype&quot;: &quot;markdown&quot;, &quot;markdown&quot;: &#123; &quot;title&quot;:f&quot;sing189&quot;,&quot;text&quot;:f&quot;hk1:sing189 \n&gt; &#123;res1&#125; \n&gt;&#123;res2&#125;&#123;res3&#125;&#123;res4&#125;&quot;&#125;&#125;</span></span><br><span class="line">        <span class="comment"># requests.post(f&quot;https://oapi.dingtalk.com/robot/send?access_token=&#123;_&#125;&quot;, json=data,)</span></span><br><span class="line">        timestamp = <span class="built_in">str</span>(<span class="built_in">round</span>(time.time() * <span class="number">1000</span>))</span><br><span class="line">        secret_enc = ddsecret.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        string_to_sign = <span class="string">&#x27;&#123;&#125;\n&#123;&#125;&#x27;</span>.<span class="built_in">format</span>(timestamp, ddsecret)</span><br><span class="line">        string_to_sign_enc = string_to_sign.encode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">        hmac_code = hmac.new(secret_enc, string_to_sign_enc, digestmod=hashlib.sha256).digest()</span><br><span class="line">        sign = urllib.parse.quote_plus(base64.b64encode(hmac_code))</span><br><span class="line">        url = <span class="string">f&#x27;https://oapi.dingtalk.com/robot/send&#x27;</span></span><br><span class="line">        params=&#123;<span class="string">&quot;access_token&quot;</span>:ddtoken,<span class="string">&quot;timestamp&quot;</span>:timestamp,<span class="string">&quot;sign&quot;</span>:sign&#125;</span><br><span class="line">        headers = &#123;<span class="string">&quot;Content-Type&quot;</span>: <span class="string">&quot;application/json;charset=utf-8&quot;</span>&#125;</span><br><span class="line">        data = &#123;<span class="string">&quot;msgtype&quot;</span>: <span class="string">&quot;markdown&quot;</span>,</span><br><span class="line">                <span class="string">&quot;markdown&quot;</span>: &#123;<span class="string">&quot;title&quot;</span>: <span class="string">f&quot;sing189&quot;</span>, <span class="string">&quot;text&quot;</span>: <span class="string">f&quot;sing189 \n&gt; <span class="subst">&#123;res1&#125;</span> \n&gt;<span class="subst">&#123;res2&#125;</span><span class="subst">&#123;res3&#125;</span><span class="subst">&#123;res4&#125;</span>&quot;</span>&#125;&#125;</span><br><span class="line">        response = requests.post(</span><br><span class="line">            url=url, data=json.dumps(data), headers=headers, timeout=<span class="number">15</span></span><br><span class="line">        ).json()</span><br><span class="line"> </span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> response[<span class="string">&quot;errcode&quot;</span>]:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;钉钉机器人 推送成功！&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&quot;钉钉机器人 推送失败！&quot;</span>)</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">lambda_handler</span>(<span class="params">event, context</span>):  <span class="comment"># aws default</span></span><br><span class="line">    main()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">main_handler</span>(<span class="params">event, context</span>):  <span class="comment"># tencent default</span></span><br><span class="line">    main()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">handler</span>(<span class="params">event, context</span>):  <span class="comment"># aliyun default</span></span><br><span class="line">    main()</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    <span class="comment"># time.sleep(random.randint(5, 30))</span></span><br><span class="line">    main()</span><br></pre></td></tr></table></figure><h3 id="2-运行"><a href="#2-运行" class="headerlink" title="2.运行"></a>2.运行</h3><p>填入用户名和密码，在青龙里面定时每天运行</p>]]></content>
      
      
      
        <tags>
            
            <tag> 签到 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/07/11/hexo/hello-world/"/>
      <url>/2024/07/11/hexo/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>clash规则配置</title>
      <link href="/2024/06/30/tools/clash%E8%A7%84%E5%88%99%E9%85%8D%E7%BD%AE/"/>
      <url>/2024/06/30/tools/clash%E8%A7%84%E5%88%99%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[]]></content>
      
      
      <categories>
          
          <category> 软件工具 </category>
          
      </categories>
      
      
    </entry>
    
    
  
  
</search>
